"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5208],{6477:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>r});var s=t(74848),n=t(28453);const a={layout:"api",page_title:"/sys/capabilities - HTTP API",description:"The `/sys/capabilities` endpoint is used to fetch the capabilities of a token\non the given paths."},l="/sys/capabilities",o={id:"system/capabilities",title:"/sys/capabilities",description:"The `/sys/capabilities` endpoint is used to fetch the capabilities of a token\non the given paths.",source:"@site/content/api-docs/system/capabilities.mdx",sourceDirName:"system",slug:"/system/capabilities",permalink:"/openbao/api-docs/system/capabilities",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/api-docs/system/capabilities.mdx",tags:[],version:"current",frontMatter:{layout:"api",page_title:"/sys/capabilities - HTTP API",description:"The `/sys/capabilities` endpoint is used to fetch the capabilities of a token\non the given paths."},sidebar:"apiSidebar",previous:{title:"/sys/capabilities-self",permalink:"/openbao/api-docs/system/capabilities-self"},next:{title:"/sys/config/auditing",permalink:"/openbao/api-docs/system/config-auditing"}},c={},r=[{value:"Query token capabilities",id:"query-token-capabilities",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Sample payload",id:"sample-payload",level:3},{value:"Sample request",id:"sample-request",level:3},{value:"Sample response",id:"sample-response",level:3}];function d(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.h1,{id:"syscapabilities",children:(0,s.jsx)(i.code,{children:"/sys/capabilities"})}),"\n",(0,s.jsxs)(i.p,{children:["The ",(0,s.jsx)(i.code,{children:"/sys/capabilities"})," endpoint is used to fetch the capabilities of a token\non the given paths. The capabilities returned will be derived from the policies\nthat are on the token, and from the policies to which the token is entitled to\nthrough the entity and entity's group memberships."]}),"\n",(0,s.jsx)(i.h2,{id:"query-token-capabilities",children:"Query token capabilities"}),"\n",(0,s.jsxs)(i.p,{children:["This endpoint returns the list of capabilities of a given token on the given\npaths. Multiple paths are taken in at once and the capabilities of the token\nfor each path is returned. For backwards compatibility, if a single path is\nsupplied, a ",(0,s.jsx)(i.code,{children:"capabilities"})," field will also be returned."]}),"\n",(0,s.jsxs)(i.table,{children:[(0,s.jsx)(i.thead,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.th,{style:{textAlign:"left"},children:"Method"}),(0,s.jsx)(i.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,s.jsx)(i.tbody,{children:(0,s.jsxs)(i.tr,{children:[(0,s.jsx)(i.td,{style:{textAlign:"left"},children:(0,s.jsx)(i.code,{children:"POST"})}),(0,s.jsx)(i.td,{style:{textAlign:"left"},children:(0,s.jsx)(i.code,{children:"/sys/capabilities"})})]})})]}),"\n",(0,s.jsx)(i.h3,{id:"parameters",children:"Parameters"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"paths"})," ",(0,s.jsx)(i.code,{children:"(list: <required>)"})," \u2013\xa0Paths on which capabilities are being queried."]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"token"})," ",(0,s.jsx)(i.code,{children:"(string: <required>)"})," \u2013\xa0Token for which capabilities are being\nqueried."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"sample-payload",children:"Sample payload"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-json",children:'{\n  "token": "abcd1234",\n  "paths": ["secret/foo"]\n}\n'})}),"\n",(0,s.jsx)(i.h3,{id:"sample-request",children:"Sample request"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/sys/capabilities\n'})}),"\n",(0,s.jsx)(i.h3,{id:"sample-response",children:"Sample response"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-json",children:'{\n  "capabilities": ["delete", "list", "read", "update"],\n  "secret/foo": ["delete", "list", "read", "update"]\n}\n'})})]})}function p(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,i,t)=>{t.d(i,{R:()=>l,x:()=>o});var s=t(96540);const n={},a=s.createContext(n);function l(e){const i=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),s.createElement(a.Provider,{value:i},e.children)}}}]);