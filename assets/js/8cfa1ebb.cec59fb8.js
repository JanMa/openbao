"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5801],{87978:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>r,default:()=>o,frontMatter:()=>t,metadata:()=>d,toc:()=>c});var i=n(74848),l=n(28453);const t={sidebar_label:"SSH",description:"This is the API documentation for the OpenBao SSH secrets engine."},r="SSH secrets engine (API)",d={id:"secret/ssh",title:"SSH secrets engine (API)",description:"This is the API documentation for the OpenBao SSH secrets engine.",source:"@site/content/api-docs/secret/ssh.mdx",sourceDirName:"secret",slug:"/secret/ssh",permalink:"/openbao/api-docs/secret/ssh",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/api-docs/secret/ssh.mdx",tags:[],version:"current",frontMatter:{sidebar_label:"SSH",description:"This is the API documentation for the OpenBao SSH secrets engine."},sidebar:"api",previous:{title:"RabbitMQ",permalink:"/openbao/api-docs/secret/rabbitmq"},next:{title:"TOTP",permalink:"/openbao/api-docs/secret/totp"}},a={},c=[{value:"Create/Update role",id:"createupdate-role",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Sample payload",id:"sample-payload",level:3},{value:"Sample request",id:"sample-request",level:3},{value:"Read role",id:"read-role",level:2},{value:"Parameters",id:"parameters-1",level:3},{value:"Sample request",id:"sample-request-1",level:3},{value:"Sample response",id:"sample-response",level:3},{value:"List roles",id:"list-roles",level:2},{value:"Parameters",id:"parameters-2",level:3},{value:"Sample request",id:"sample-request-2",level:3},{value:"Sample response",id:"sample-response-1",level:3},{value:"Delete role",id:"delete-role",level:2},{value:"Parameters",id:"parameters-3",level:3},{value:"Sample request",id:"sample-request-3",level:3},{value:"List Zero-Address roles",id:"list-zero-address-roles",level:2},{value:"Sample request",id:"sample-request-4",level:3},{value:"Sample response",id:"sample-response-2",level:3},{value:"Configure Zero-Address roles",id:"configure-zero-address-roles",level:2},{value:"Parameters",id:"parameters-4",level:3},{value:"Sample payload",id:"sample-payload-1",level:3},{value:"Sample request",id:"sample-request-5",level:3},{value:"Delete Zero-Address role",id:"delete-zero-address-role",level:2},{value:"Sample request",id:"sample-request-6",level:3},{value:"Generate SSH credentials",id:"generate-ssh-credentials",level:2},{value:"Parameters",id:"parameters-5",level:3},{value:"Sample payload",id:"sample-payload-2",level:3},{value:"Sample request",id:"sample-request-7",level:3},{value:"Sample response",id:"sample-response-3",level:3},{value:"List roles by IP",id:"list-roles-by-ip",level:2},{value:"Parameters",id:"parameters-6",level:3},{value:"Sample payload",id:"sample-payload-3",level:3},{value:"Sample request",id:"sample-request-8",level:3},{value:"Sample response",id:"sample-response-4",level:3},{value:"Verify SSH OTP",id:"verify-ssh-otp",level:2},{value:"Parameters",id:"parameters-7",level:3},{value:"Sample payload",id:"sample-payload-4",level:3},{value:"Sample request",id:"sample-request-9",level:3},{value:"Sample response",id:"sample-response-5",level:3},{value:"Submit CA information",id:"submit-ca-information",level:2},{value:"Parameters",id:"parameters-8",level:3},{value:"Sample payload",id:"sample-payload-5",level:3},{value:"Sample request",id:"sample-request-10",level:3},{value:"Sample response",id:"sample-response-6",level:3},{value:"Delete CA information",id:"delete-ca-information",level:2},{value:"Sample request",id:"sample-request-11",level:3},{value:"Read public key (Unauthenticated)",id:"read-public-key-unauthenticated",level:2},{value:"Sample request",id:"sample-request-12",level:3},{value:"Sample response",id:"sample-response-7",level:3},{value:"Read public key (Authenticated)",id:"read-public-key-authenticated",level:2},{value:"Sample request",id:"sample-request-13",level:3},{value:"Sample response",id:"sample-response-8",level:3},{value:"Sign SSH key",id:"sign-ssh-key",level:2},{value:"Parameters",id:"parameters-9",level:3},{value:"Sample payload",id:"sample-payload-6",level:3},{value:"Sample request",id:"sample-request-14",level:3},{value:"Sample response",id:"sample-response-9",level:3},{value:"Generate certificate and key",id:"generate-certificate-and-key",level:2},{value:"Parameters",id:"parameters-10",level:3},{value:"Sample payload",id:"sample-payload-7",level:3},{value:"Sample request",id:"sample-request-15",level:3},{value:"Sample response",id:"sample-response-10",level:3},{value:"Tidy host keys",id:"tidy-host-keys",level:2},{value:"Sample request",id:"sample-request-16",level:3},{value:"Sample response",id:"sample-response-11",level:3}];function h(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{id:"ssh-secrets-engine-api",children:"SSH secrets engine (API)"}),"\n",(0,i.jsxs)(s.p,{children:["This is the API documentation for the OpenBao SSH secrets engine. For general\ninformation about the usage and operation of the SSH secrets engine, please see\nthe ",(0,i.jsx)(s.a,{href:"/docs/secrets/ssh",children:"SSH documentation"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["This documentation assumes the SSH secrets engine is enabled at the ",(0,i.jsx)(s.code,{children:"/ssh"})," path\nin OpenBao. Since it is possible to enable secrets engines at any location, please\nupdate your API calls accordingly."]}),"\n",(0,i.jsx)(s.h2,{id:"createupdate-role",children:"Create/Update role"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint creates or updates a named role."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"POST"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/roles/:name"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"name"})," ",(0,i.jsx)(s.code,{children:"(string: <required>)"})," \u2013\xa0Specifies the name of the role to create. This\nis part of the request URL."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"default_user"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013\xa0Specifies the default username for which a\ncredential will be generated. When the endpoint ",(0,i.jsx)(s.code,{children:"creds/"})," is used without a\nusername, this value will be used as default username. Its recommended to\ncreate individual roles for each username to ensure absolute isolation between\nusernames. This is required for OTP type roles."]}),"\n",(0,i.jsxs)(s.p,{children:["When ",(0,i.jsx)(s.code,{children:"default_user_template"})," is set to ",(0,i.jsx)(s.code,{children:"true"}),", this field can contain an identity\ntemplate with any prefix or suffix, like ",(0,i.jsx)(s.code,{children:"ssh-{{identity.entity.id}}-user"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["For the CA type, if you wish this to be a valid principal, it must also be\nin ",(0,i.jsx)(s.code,{children:"allowed_users"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"default_user_template"})," ",(0,i.jsx)(s.code,{children:"(bool: false)"})," - If set, ",(0,i.jsx)(s.code,{children:"default_users"})," can be specified\nusing identity template values. A non-templated user is also permitted."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"cidr_list"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013\xa0Specifies a comma separated list of CIDR blocks\nfor which the role is applicable for. It is possible that a same set of CIDR\nblocks are part of multiple roles. This is a required parameter, unless the\nrole is registered under the ",(0,i.jsx)(s.code,{children:"/config/zeroaddress"})," endpoint. Note:\n[Not applicable for CA type]"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"exclude_cidr_list"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013\xa0Specifies a comma-separated list of CIDR\nblocks. IP addresses belonging to these blocks are not accepted by the role.\nThis is particularly useful when big CIDR blocks are being used by the role\nand certain parts need to be kept out. Note:\n[Not applicable for CA type]"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"port"})," ",(0,i.jsx)(s.code,{children:"(int: 22)"})," \u2013\xa0Specifies the port number for SSH connection. Port number\ndoes not play any role in OTP generation. For the ",(0,i.jsx)(s.code,{children:"otp"})," secrets engine type, this is\njust a way to inform the client about the port number to use. The port number\nwill be returned to the client by OpenBao along with the OTP."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"key_type"})," ",(0,i.jsx)(s.code,{children:"(string: <required>)"})," \u2013\xa0Specifies the type of credentials\ngenerated by this role. This can be either ",(0,i.jsx)(s.code,{children:"otp"})," or ",(0,i.jsx)(s.code,{children:"ca"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"allowed_users"})," ",(0,i.jsx)(s.code,{children:'(string: "")'}),"\xa0\u2013\xa0If this option is not specified, or if it is\n",(0,i.jsx)(s.code,{children:"*"}),", the client can request a credential for any valid user at the remote\nhost, including the admin user. To only allow an explicit list of users, set\nthis parameter using a comma-separated username list to enforce it. When this\nparameter is set, the credentials are created only for ",(0,i.jsx)(s.code,{children:"default_user"})," and\nusernames listed. Setting this option will enable all the users with access\nthis role to fetch credentials for all other usernames in this list.\nWhen ",(0,i.jsx)(s.code,{children:"allowed_users_template"})," is set to ",(0,i.jsx)(s.code,{children:"true"}),", this field can contain an identity\ntemplate with any prefix or suffix, like ",(0,i.jsx)(s.code,{children:"ssh-{{identity.entity.id}}-user"}),".\nUse with caution. N.B.: if the type is ",(0,i.jsx)(s.code,{children:"ca"}),", an empty list does not allow any user;\ninstead you must use ",(0,i.jsx)(s.code,{children:"*"})," to enable this behavior."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"allowed_users_template"})," ",(0,i.jsx)(s.code,{children:"(bool: false)"})," - If set, ",(0,i.jsx)(s.code,{children:"allowed_users"})," can be specified\nusing identity template policies. Non-templated users are also permitted."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"allowed_domains"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013\xa0A comma-separated list of domains for which\na client can request a host certificate. If this option is explicitly set to\n",(0,i.jsx)(s.code,{children:'"*"'}),", then credentials can be created for any domain. See also\n",(0,i.jsx)(s.code,{children:"allow_bare_domains"})," and ",(0,i.jsx)(s.code,{children:"allow_subdomains"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"allowed_domains_template"})," ",(0,i.jsx)(s.code,{children:"(bool: false)"})," - If set, ",(0,i.jsx)(s.code,{children:"allowed_domains"})," can be\nspecified using identity template policies. Non-templated domains are also\npermitted."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"ttl"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013\xa0Specifies the Time To Live value provided as a string\nduration with time suffix. Hour is the largest suffix. If not set, uses the\nsystem default value or the value of ",(0,i.jsx)(s.code,{children:"max_ttl"}),", whichever is shorter."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"max_ttl"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013\xa0Specifies the maximum Time To Live provided as a\nstring duration with time suffix. Hour is the largest suffix. If not set,\ndefaults to the system maximum lease TTL."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"allowed_critical_options"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013\xa0Specifies a comma-separated list\nof critical options that certificates can have when signed. To allow any\ncritical options, set this to an empty string. Will default to allowing any\ncritical options."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"allowed_extensions"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013\xa0Specifies a comma-separated list of\nextensions that certificates can have when signed. To allow a user to specify\nany extension, set this to ",(0,i.jsx)(s.code,{children:'"*"'}),". If not set, users will not be allowed to\nspecify extensions and will get the extensions specified within ",(0,i.jsx)(s.code,{children:"default_extensions"}),".\nFor the list of extensions, take a look at the ",(0,i.jsx)(s.a,{href:"https://man.openbsd.org/sshd#AUTHORIZED_KEYS_FILE_FORMAT",children:"sshd\nmanual's"}),"\n",(0,i.jsx)(s.code,{children:"AUTHORIZED_KEYS FILE FORMAT"})," section. You should add a ",(0,i.jsx)(s.code,{children:"permit-"})," before the\nname of extension to allow it."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"default_critical_options"})," ",(0,i.jsx)(s.code,{children:'(map<string|string>: "")'})," \u2013\xa0Specifies a map of\ncritical options certificates should have if none are provided when signing.\nThis field takes in key value pairs in JSON format. Note that these are not\nrestricted by ",(0,i.jsx)(s.code,{children:"allowed_critical_options"}),". Defaults to none."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"default_extensions"})," ",(0,i.jsx)(s.code,{children:'(map<string|string>: "")'})," \u2013\xa0Specifies a map of\nextensions certificates should have if none are provided when signing. This\nfield takes in key value pairs in JSON format. Note that these are not\nrestricted by ",(0,i.jsx)(s.code,{children:"allowed_extensions"}),". Defaults to none."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"default_extensions_template"})," ",(0,i.jsx)(s.code,{children:"(bool: false)"})," \u2013\xa0If set, ",(0,i.jsx)(s.code,{children:"default_extensions"}),"\ncan be specified using identity template policies. Non-templated extensions\nare also permitted."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"allow_user_certificates"})," ",(0,i.jsx)(s.code,{children:"(bool: false)"})," \u2013\xa0Specifies if certificates are\nallowed to be signed for use as a 'user'."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"allow_host_certificates"})," ",(0,i.jsx)(s.code,{children:"(bool: false)"})," \u2013\xa0Specifies if certificates are\nallowed to be signed for use as a 'host'."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"allow_bare_domains"})," ",(0,i.jsx)(s.code,{children:"(bool: false)"})," \u2013\xa0Specifies if host certificates that are\nrequested are allowed to use the base domains listed in ",(0,i.jsx)(s.code,{children:"allowed_domains"}),', e.g.\n"example.com". This is a separate option as in some cases this can be\nconsidered a security threat.']}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"allow_subdomains"})," ",(0,i.jsx)(s.code,{children:"(bool: false)"})," \u2013 Specifies if host certificates that are\nrequested are allowed to be subdomains of those listed in ",(0,i.jsx)(s.code,{children:"allowed_domains"}),',\ne.g. if "example.com" is part of ',(0,i.jsx)(s.code,{children:"allowed_domains"}),', this allows\n"foo.example.com".']}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"allow_user_key_ids"})," ",(0,i.jsx)(s.code,{children:"(bool: false)"}),' \u2013 Specifies if users can override the key\nID for a signed certificate with the "key_id" field. When false, the key ID\nwill always be the token display name. The key ID is logged by the SSH server\nand can be useful for auditing.']}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"key_id_format"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013 When supplied, this value specifies a custom\nformat for the key id of a signed certificate. The following variables are\navailable for use: '{{token_display_name}}' - The display name of the token used\nto make the request. '{{role_name}}' - The name of the role signing the request.\n'{{public_key_hash}}' - A SHA256 checksum of the public key that is being signed.\ne.g. \"custom-keyid-{{token_display_name}}\""]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"allowed_user_key_lengths"})," ",(0,i.jsx)(s.code,{children:'(map<string|(int|[]int|string)>: "")'})," \u2013\xa0Specifies a\nmap of ssh key types and their expected sizes which are allowed to be signed by\nthe CA type. To specify multiple sizes, either use a comma-separated list or an\narray of allowed key widths. We support both OpenSSH-style key identifiers and\nshort names (",(0,i.jsx)(s.code,{children:"rsa"}),", ",(0,i.jsx)(s.code,{children:"ecdsa"}),", ",(0,i.jsx)(s.code,{children:"dsa"}),", or ",(0,i.jsx)(s.code,{children:"ed25519"}),") as keys. For example, a valid\npolicy to allow common RSA and ECDSA key lengths might be:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'{\n  "rsa": [2048, 3072, 4096],\n  "ec": 256,\n  "ecdsa-sha2-nistp521": 0\n}\n'})}),"\n",(0,i.jsxs)(s.p,{children:["Note that when an algorithm identifier uniquely specifies a key length (such as\nwith ",(0,i.jsx)(s.code,{children:"ecdsa-sha2-nistp256"})," or ",(0,i.jsx)(s.code,{children:"ed25519"}),"), the value of the length is ignored (and\ncan be zero)."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Note"}),": In FIPS 140-2 mode, the following algorithms are not certified\nand thus should not be used: ",(0,i.jsx)(s.code,{children:"ed25519"}),"."]})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"algorithm_signer"})," ",(0,i.jsx)(s.code,{children:'(string: "default")'})," - Algorithm to sign keys with. Valid\nvalues are ",(0,i.jsx)(s.code,{children:"ssh-rsa"}),", ",(0,i.jsx)(s.code,{children:"rsa-sha2-256"}),", ",(0,i.jsx)(s.code,{children:"rsa-sha2-512"}),", or ",(0,i.jsx)(s.code,{children:"default"}),". This\nvalue may also be left blank to use the signer's default algorithm, and must\nbe left blank or have value ",(0,i.jsx)(s.code,{children:"default"})," for CA key types other than RSA."]}),"\n"]}),"\n",(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Note"}),": The value of ",(0,i.jsx)(s.code,{children:"default"})," may change over time as vulnerabilities\nin algorithms are discovered. The present value for RSA keys is equivalent\nto ",(0,i.jsx)(s.code,{children:"rsa-sha2-256"}),"."]})}),"\n",(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Warning"}),": The ",(0,i.jsx)(s.code,{children:"algorithm_signer"})," value ",(0,i.jsx)(s.code,{children:"ssh-rsa"})," uses the SHA-1 hash\nalgorithm. This algorithm is now considered insecure and is not supported by\ncurrent OpenSSH versions. As a result, OpenBao has made the new default\n",(0,i.jsx)(s.code,{children:"rsa-sha2-256"})," for RSA CA keys. It is strongly encouraged for all users to\nmigrate to ",(0,i.jsx)(s.code,{children:"rsa-sha2-256"})," or ",(0,i.jsx)(s.code,{children:"default"})," if the role was created with an\nexplicit ",(0,i.jsx)(s.code,{children:"algorithm_signer=rsa-sha"})," parameter or has been migrated to such."]})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"not_before_duration"})," ",(0,i.jsx)(s.code,{children:'(duration: "30s")'})," \u2013\xa0Specifies the duration by which to\nbackdate the ",(0,i.jsx)(s.code,{children:"ValidAfter"})," property. Uses ",(0,i.jsx)(s.a,{href:"/docs/concepts/duration-format",children:"duration format strings"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sample-payload",children:"Sample payload"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "key_type": "otp"\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-request",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/ssh/roles/my-role\n'})}),"\n",(0,i.jsx)(s.h2,{id:"read-role",children:"Read role"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint queries a named role."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"GET"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/roles/:name"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"name"})," ",(0,i.jsx)(s.code,{children:"(string: <required>)"})," \u2013\xa0Specifies the name of the role to read. This\nis part of the request URL."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-1",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    http://127.0.0.1:8200/v1/ssh/roles/my-role\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response",children:"Sample response"}),"\n",(0,i.jsx)(s.p,{children:"For an OTP role:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "cidr_list": "x.x.x.x/y",\n  "default_user": "username",\n  "key_type": "otp",\n  "port": 22\n}\n'})}),"\n",(0,i.jsx)(s.p,{children:"For a CA role:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "allow_bare_domains": false,\n  "allow_host_certificates": true,\n  "allow_subdomains": false,\n  "allow_user_key_ids": false,\n  "allow_user_certificates": true,\n  "allowed_critical_options": "",\n  "allowed_extensions": "",\n  "default_critical_options": {},\n  "default_extensions": {},\n  "max_ttl": "768h",\n  "ttl": "4h"\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"list-roles",children:"List roles"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint returns a list of available roles. Only the role names are\nreturned, not any values."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"LIST"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/roles"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"parameters-2",children:"Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"after"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," - Optional entry to begin listing after for\npagination; not required to exist."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"limit"})," ",(0,i.jsx)(s.code,{children:"(int: 0)"})," - Optional number of entries to return; defaults\nto all entries."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-2",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request LIST \\\n    http://127.0.0.1:8200/v1/ssh/roles\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response-1",children:"Sample response"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "auth": null,\n  "data": {\n    "keys": ["dev", "prod"],\n    "key_info": {\n      "dev": {\n        "key_type": "ca"\n      }\n    }\n  },\n  "lease_duration": 2764800,\n  "lease_id": "",\n  "renewable": false\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"delete-role",children:"Delete role"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint deletes a named role."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"DELETE"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/roles/:name"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"parameters-3",children:"Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"name"})," ",(0,i.jsx)(s.code,{children:"(string: <required>)"})," \u2013\xa0Specifies the name of the role to delete. This\nis part of the request URL."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-3",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request DELETE \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/ssh/roles/my-role\n'})}),"\n",(0,i.jsx)(s.h2,{id:"list-zero-address-roles",children:"List Zero-Address roles"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint returns the list of configured zero-address roles."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"GET"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/config/zeroaddress"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-4",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    http://127.0.0.1:8200/v1/ssh/config/zeroaddress\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response-2",children:"Sample response"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "lease_id": "",\n  "renewable": false,\n  "lease_duration": 0,\n  "data": {\n    "roles": ["otp_key_role"]\n  },\n  "warnings": null,\n  "auth": null\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"configure-zero-address-roles",children:"Configure Zero-Address roles"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint configures zero-address roles."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"POST"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/config/zeroaddress"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"parameters-4",children:"Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"roles"})," ",(0,i.jsx)(s.code,{children:"(string: <required>)"})," \u2013\xa0Specifies a string containing comma separated\nlist of role names which allows credentials to be requested for any IP\naddress. CIDR blocks previously registered under these roles will be ignored."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sample-payload-1",children:"Sample payload"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "roles": ["otp_key_role"]\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-5",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/ssh/config/zeroaddress\n'})}),"\n",(0,i.jsx)(s.h2,{id:"delete-zero-address-role",children:"Delete Zero-Address role"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint deletes the zero-address roles configuration."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"DELETE"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/config/zeroaddress"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-6",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request DELETE \\\n    http://127.0.0.1:8200/v1/ssh/config/zeroaddress\n'})}),"\n",(0,i.jsx)(s.h2,{id:"generate-ssh-credentials",children:"Generate SSH credentials"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint creates credentials for a specific username and IP with the\nparameters defined in the given role."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"POST"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/creds/:name"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"parameters-5",children:"Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"name"})," ",(0,i.jsx)(s.code,{children:"(string: <required>)"})," \u2013\xa0Specifies the name of the role to create\ncredentials against. This is part of the request URL."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"username"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013\xa0Specifies the username on the remote host."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"ip"})," ",(0,i.jsx)(s.code,{children:"(string: <required>)"})," \u2013 Specifies the IP of the remote host."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sample-payload-2",children:"Sample payload"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "ip": "1.2.3.4"\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-7",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/ssh/creds/my-role\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response-3",children:"Sample response"}),"\n",(0,i.jsx)(s.p,{children:"For an OTP role:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "lease_id": "sshs/creds/c3c2e60c-5a48-415a-9d5a-a41e0e6cdec5/3ee6ad28-383f-d482-2427-70498eba4d96",\n  "renewable": false,\n  "lease_duration": 2764800,\n  "data": {\n    "ip": "127.0.0.1",\n    "key": "6d6411fd-f622-ea0a-7e2c-989a745cbbb2",\n    "key_type": "otp",\n    "port": 22,\n    "username": "rajanadar"\n  },\n  "warnings": null,\n  "auth": null\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"list-roles-by-ip",children:"List roles by IP"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint lists all of the roles with which the given IP is associated."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"POST"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/lookup"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"parameters-6",children:"Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"ip"})," ",(0,i.jsx)(s.code,{children:"(string: <required>)"})," \u2013\xa0Specifies the IP of the remote host."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sample-payload-3",children:"Sample payload"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "ip": "1.2.3.4"\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-8",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/ssh/lookup\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response-4",children:"Sample response"}),"\n",(0,i.jsx)(s.p,{children:"An array of roles as a secret structure."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "lease_id": "",\n  "renewable": false,\n  "lease_duration": 0,\n  "data": {\n    "roles": [\n      "fe6f61b7-7e4a-46a6-b2c8-0d530b8513df",\n      "6d6411fd-f622-ea0a-7e2c-989a745cbbb2"\n    ]\n  },\n  "warnings": null,\n  "auth": null\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"verify-ssh-otp",children:"Verify SSH OTP"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint verifies if the given OTP is valid. This is an unauthenticated\nendpoint."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"POST"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/verify"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"parameters-7",children:"Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"otp"})," ",(0,i.jsx)(s.code,{children:"(string: <required>)"})," \u2013\xa0Specifies the One-Time-Key that needs to be\nvalidated."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sample-payload-4",children:"Sample payload"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "otp": "bad2b3-..."\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-9",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/ssh/verify\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response-5",children:"Sample response"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "lease_id": "",\n  "renewable": false,\n  "lease_duration": 0,\n  "data": {\n    "ip": "127.0.0.1",\n    "username": "rajanadar"\n  },\n  "warnings": null,\n  "auth": null\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"submit-ca-information",children:"Submit CA information"}),"\n",(0,i.jsxs)(s.p,{children:["This endpoint allows submitting the CA information for the secrets engine via an SSH\nkey pair. ",(0,i.jsx)(s.em,{children:"If you have already set a certificate and key, they will be\noverridden."})]}),"\n",(0,i.jsxs)(s.p,{children:["| Method | Path             |\n| :----- | :--------------- | -------------------------- |\n| ",(0,i.jsx)(s.code,{children:"POST"})," | ",(0,i.jsx)(s.code,{children:"/ssh/config/ca"})," | ",(0,i.jsx)(s.code,{children:"200/204 application/json"})," |"]}),"\n",(0,i.jsx)(s.h3,{id:"parameters-8",children:"Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"private_key"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013\xa0Specifies the private key part the SSH CA key\npair; required if ",(0,i.jsx)(s.code,{children:"generate_signing_key"})," is false."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"public_key"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013 Specifies the public key part of the SSH CA key\npair; required if ",(0,i.jsx)(s.code,{children:"generate_signing_key"})," is false."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"generate_signing_key"})," ",(0,i.jsx)(s.code,{children:"(bool: true)"})," \u2013\xa0Specifies if OpenBao should generate\nthe signing key pair internally. If ",(0,i.jsx)(s.code,{children:"true"}),", an RSA key pair is generated, and\nthe generated public key is returned so you can add it to your configuration.\nIf ",(0,i.jsx)(s.code,{children:"false"}),", then you must provide ",(0,i.jsx)(s.code,{children:"private_key"})," and ",(0,i.jsx)(s.code,{children:"public_key"}),", but these\ncan be of any valid signing key type."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"key_type"})," ",(0,i.jsx)(s.code,{children:"(string: ssh-rsa)"})," - Specifies the desired key type for the\ngenerated SSH CA key when ",(0,i.jsx)(s.code,{children:"generate_signing_key"})," is set to ",(0,i.jsx)(s.code,{children:"true"}),". Valid\nvalues are OpenSSH key type identifiers (",(0,i.jsx)(s.code,{children:"ssh-rsa"}),", ",(0,i.jsx)(s.code,{children:"ecdsa-sha2-nistp256"}),",\n",(0,i.jsx)(s.code,{children:"ecdsa-sha2-nistp384"}),", ",(0,i.jsx)(s.code,{children:"ecdsa-sha2-nistp521"}),", or ",(0,i.jsx)(s.code,{children:"ssh-ed25519"}),") or an\nalgorithm (",(0,i.jsx)(s.code,{children:"rsa"}),", ",(0,i.jsx)(s.code,{children:"ec"}),", or ",(0,i.jsx)(s.code,{children:"ed25519"}),")."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Note"}),": In FIPS 140-2 mode, the following algorithms are not certified\nand thus should not be used: ",(0,i.jsx)(s.code,{children:"ed25519"}),"."]})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"key_bits"})," ",(0,i.jsx)(s.code,{children:"(int: 0)"})," - Specifies the desired key bits for the generated SSH\nCA key when ",(0,i.jsx)(s.code,{children:"generate_signing_key"})," is set to ",(0,i.jsx)(s.code,{children:"true"}),". This is only used for\nvariable length keys (such as ",(0,i.jsx)(s.code,{children:"ssh-rsa"}),", where the value of ",(0,i.jsx)(s.code,{children:"key_bits"}),"\nspecifies the size of the RSA key pair to generate; with the default ",(0,i.jsx)(s.code,{children:"0"}),"\nvalue resulting in a 4096-bit key) or when the ",(0,i.jsx)(s.code,{children:"ec"})," algorithm is specified\nin ",(0,i.jsx)(s.code,{children:"key_type"})," (where the value of ",(0,i.jsx)(s.code,{children:"key_bits"})," identifies which NIST P-curve\nto use; ",(0,i.jsx)(s.code,{children:"256"}),", ",(0,i.jsx)(s.code,{children:"384"}),", or ",(0,i.jsx)(s.code,{children:"521"}),", with the default ",(0,i.jsx)(s.code,{children:"0"})," value resulting in a\nNIST P-256 key)."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sample-payload-5",children:"Sample payload"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "generate_signing_key": true\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-10",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/ssh/config/ca\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response-6",children:"Sample response"}),"\n",(0,i.jsxs)(s.p,{children:["This will return a ",(0,i.jsx)(s.code,{children:"204"})," response if ",(0,i.jsx)(s.code,{children:"generate_signing_key"})," was unset or false."]}),"\n",(0,i.jsxs)(s.p,{children:["This will return a ",(0,i.jsx)(s.code,{children:"200"})," response if ",(0,i.jsx)(s.code,{children:"generate_signing_key"})," was true:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "lease_id": "",\n  "renewable": false,\n  "lease_duration": 0,\n  "data": {\n    "public_key": "ssh-rsa AAAAHHNzaC1y...\\n"\n  },\n  "warnings": null\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"delete-ca-information",children:"Delete CA information"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint deletes the CA information for the backend via an SSH key pair."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"DELETE"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/config/ca"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-11",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request DELETE \\\n    http://127.0.0.1:8200/v1/ssh/config/ca\n'})}),"\n",(0,i.jsx)(s.h2,{id:"read-public-key-unauthenticated",children:"Read public key (Unauthenticated)"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint returns the configured/generated public key. This is an unauthenticated\nendpoint."}),"\n",(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsxs)(s.p,{children:["Note: this is a raw response endpoint without JSON encoding; use\n",(0,i.jsx)(s.code,{children:"openbao read -format=raw"})," or an external tool (e.g., ",(0,i.jsx)(s.code,{children:"curl"}),") to fetch this\nvalue."]})}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"}),(0,i.jsx)(s.th,{children:"Content-Type"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"GET"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/public_key"})}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"200 text/plain"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-12",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:"$ curl http://127.0.0.1:8200/v1/ssh/public_key\n"})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response-7",children:"Sample response"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-text",children:"    ssh-rsa AAAAHHNzaC1y...\n"})}),"\n",(0,i.jsx)(s.h2,{id:"read-public-key-authenticated",children:"Read public key (Authenticated)"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint reads the configured/generated public key."}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"GET"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/config/ca"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-13",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    http://127.0.0.1:8200/v1/ssh/config/ca\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response-8",children:"Sample response"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "lease_id": "",\n  "renewable": false,\n  "lease_duration": 0,\n  "data": {\n    "public_key": "ssh-rsa AAAAHHNzaC1y...\\n"\n  },\n  "warnings": null\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"sign-ssh-key",children:"Sign SSH key"}),"\n",(0,i.jsxs)(s.p,{children:["This endpoint signs an SSH public key based on the supplied parameters and\nsubject to the restrictions of the role named in the path. Both ",(0,i.jsx)(s.code,{children:"create"})," and\n",(0,i.jsx)(s.code,{children:"update"})," policy capabilities are needed to sign and update SSH keys. If only\n",(0,i.jsx)(s.code,{children:"create"})," capability is granted, and a SSH key does not exist, it will be created\nusing the default parameters already configured. If only ",(0,i.jsx)(s.code,{children:"update"})," capability is\navailable and a SSH key does not exist, an error will be returned and SSH keys\nmust exist already before may be updated."]}),"\n",(0,i.jsxs)(s.p,{children:["It is similar to the endpoint ",(0,i.jsx)(s.code,{children:"/ssh/issue/:name"}),". Instead of issuing new\nSSH credentials, this returns a certificate for the given SSH public key."]}),"\n",(0,i.jsx)(s.p,{children:"The issued certificate uses the defaults specified in the role named in\nthis endpoint. Where not restricted by the parameters of this role, the\nparameters of the issued certificate can be further customized in this API call."}),"\n",(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Note"}),": The issued certificate is returned but ",(0,i.jsx)(s.em,{children:"not"})," stored by OpenBao.\nIf you do not save it from the response, request it again by repeating\nthis request."]})}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"POST"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/sign/:name"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"parameters-9",children:"Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"name"})," ",(0,i.jsx)(s.code,{children:"(string: <required>)"})," \u2013\xa0Specifies the name of the role to sign. This\nis part of the request URL."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"public_key"})," ",(0,i.jsx)(s.code,{children:"(string: <required>)"})," \u2013 Specifies the SSH public key that should\nbe signed."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"ttl"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013\xa0Specifies the Requested Time To Live. Cannot be greater\nthan the role's ",(0,i.jsx)(s.code,{children:"max_ttl"})," value. If not provided, the role's ",(0,i.jsx)(s.code,{children:"ttl"})," value will\nbe used. Note that the role values default to system values if not explicitly\nset."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"valid_principals"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013\xa0Specifies valid principals, either\nusernames or hostnames, that the certificate should be signed for."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"cert_type"})," ",(0,i.jsx)(s.code,{children:'(string: "user")'}),' \u2013\xa0Specifies the type of certificate to be\ncreated; either "user" or "host".']}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"key_id"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013\xa0Specifies the key id that the created certificate\nshould have. If not specified, the display name of the token will be used."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"critical_options"})," ",(0,i.jsx)(s.code,{children:'(map<string|string>: "")'}),"\xa0\u2013\xa0Specifies a map of the\ncritical options that the certificate should be signed for. Defaults to none."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"extensions"})," ",(0,i.jsx)(s.code,{children:'(map<string|string>: "")'})," \u2013\xa0Specifies a map of the extensions\nthat the certificate should be signed for. Defaults to none."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sample-payload-6",children:"Sample payload"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "public_key": "ssh-rsa ..."\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-14",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/ssh/sign/my-key\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response-9",children:"Sample response"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "lease_id": "ssh/sign/example/097bf207-96dd-0041-0e83-b23bd1923993",\n  "renewable": false,\n  "lease_duration": 21600,\n  "data": {\n    "serial_number": "f65ed2fd21443d5c",\n    "signed_key": "ssh-rsa-cert-v01@openssh.com AAAAHHNzaC1y...\\n"\n  },\n  "auth": null\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"generate-certificate-and-key",children:"Generate certificate and key"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint issues a new set of SSH credentials (private key and certificate)."}),"\n",(0,i.jsxs)(s.p,{children:["It is similar to the endpoint ",(0,i.jsx)(s.code,{children:"/ssh/sign/:name"}),": Instead of signing an existing\nSSH public key, it generates and issues new SSH credentials (key and certificate)."]}),"\n",(0,i.jsx)(s.p,{children:"The issued certificate uses the defaults specified in the role named in\nthis endpoint. Where not restricted by the parameters of this role, the\nparameters of the issued certificate can be further customized in this API call."}),"\n",(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Note"}),": The issued credentials are returned but ",(0,i.jsx)(s.em,{children:"not"})," stored by OpenBao.\nIf you do not save them from the response, issue new credentials by using\nthis request again."]})}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"POST"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/issue/:name"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"parameters-10",children:"Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"name"})," ",(0,i.jsx)(s.code,{children:"(string: <required>)"})," \u2013 Specifies the name of the role to create the\ncertificate against. This is part of the request URL."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"key_type"})," ",(0,i.jsx)(s.code,{children:'(string: "rsa")'})," \u2013 Specifies the desired key type; must be ",(0,i.jsx)(s.code,{children:"rsa"}),", ",(0,i.jsx)(s.code,{children:"ed25519"}),"\nor ",(0,i.jsx)(s.code,{children:"ec"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"key_bits"})," ",(0,i.jsx)(s.code,{children:"(int: 0)"})," \u2013 Specifies the number of bits to use for the\ngenerated keys. Allowed values are 0 (universal default); with\n",(0,i.jsx)(s.code,{children:"key_type=rsa"}),", allowed values are: 2048 (default), 3072, or\n4096; with ",(0,i.jsx)(s.code,{children:"key_type=ec"}),", allowed values are: 256 (default), 384,\nor 521; ignored with ",(0,i.jsx)(s.code,{children:"key_type=ed25519"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"ttl"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013 Specifies the Requested Time To Live. Cannot be greater\nthan the role's ",(0,i.jsx)(s.code,{children:"max_ttl"})," value. If not provided, the role's ",(0,i.jsx)(s.code,{children:"ttl"})," value will\nbe used. Note that the role values default to system values if not explicitly\nset."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"valid_principals"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013 Specifies valid principals, either\nusernames or hostnames, that the certificate should be signed for."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"cert_type"})," ",(0,i.jsx)(s.code,{children:'(string: "user")'}),' \u2013 Specifies the type of certificate to be\ncreated; either "user" or "host".']}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"key_id"})," ",(0,i.jsx)(s.code,{children:'(string: "")'})," \u2013 Specifies the key id that the created certificate\nshould have. If not specified, the display name of the token will be used."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"critical_options"})," ",(0,i.jsx)(s.code,{children:'(map<string|string>: "")'})," \u2013 Specifies a map of the\ncritical options that the certificate should be signed for. Defaults to none."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"extensions"})," ",(0,i.jsx)(s.code,{children:'(map<string|string>: "")'})," \u2013 Specifies a map of the extensions\nthat the certificate should be signed for. Defaults to none."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sample-payload-7",children:"Sample payload"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "key_type": "rsa",\n  "key_bits":  2048\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-15",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/ssh/issue/my-role\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response-10",children:"Sample response"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "request_id": "94fd1102-08a1-c207-0e3e-657e8f80c09e",\n  "lease_id": "",\n  "renewable": false,\n  "lease_duration": 0,\n  "data": {\n    "serial_number": "1e965817eb12a511",\n    "signed_key": "ssh-rsa-cert-v01@openssh.com AAAAHHN...\\n",\n    "private_key": "-----BEGIN RSA PRIVATE KEY-----\\nMIIEpQIBAAKCAQEAwer03vkQrPV+wWpbisJJv2CKqHmMz+Ej0ctLbhpOmR2CY9S9\\n...\\nQN351pgTphi6nlCkGPzkDuwvtxSxiCWXQcaxrHAL7MiJpPzkIBq1\\n-----END RSA PRIVATE KEY-----\\n",\n    "private_key_type": "rsa"\n  },\n  "wrap_info": null,\n  "warnings": null,\n  "auth": null\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"tidy-host-keys",children:"Tidy host keys"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint removes all existing host keys from OpenBao, if any are present.\nThese keys were used with the Dynamic Keys functionality, which were removed\nfrom this engine."}),"\n",(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsx)(s.p,{children:"Note: This does not clean up any pending dynamic key leases and will not\nremove these keys from systems with authorized hosts entries created by\nOpenBao. That must be done manually by an operator, potentially before the\nremoval of these host keys if they are necessary to access these\nsystems."})}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"DELETE"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/ssh/tidy/dynamic-keys"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-16",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request DELETE \\\n    http://127.0.0.1:8200/v1/ssh/issue/my-role\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response-11",children:"Sample response"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "request_id": "",\n  "lease_id": "",\n  "renewable": false,\n  "lease_duration": 0,\n  "data": {\n    "message": "Removed 15 of 15 host keys."\n  },\n  "wrap_info": null,\n  "warnings": null,\n  "auth": null\n}\n'})})]})}function o(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>d});var i=n(96540);const l={},t=i.createContext(l);function r(e){const s=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);