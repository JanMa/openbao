"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5860],{78161:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>c,frontMatter:()=>o,metadata:()=>r,toc:()=>p});var t=i(74848),s=i(28453);const o={layout:"docs",page_title:"Plugin System",description:"Learn about OpenBao's plugin system."},l="Plugin system",r={id:"plugins/index",title:"Plugin system",description:"Learn about OpenBao's plugin system.",source:"@site/content/docs/plugins/index.mdx",sourceDirName:"plugins",slug:"/plugins/",permalink:"/openbao/docs/plugins/",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/docs/plugins/index.mdx",tags:[],version:"current",frontMatter:{layout:"docs",page_title:"Plugin System",description:"Learn about OpenBao's plugin system."},sidebar:"tutorialSidebar",previous:{title:"Troubleshooting",permalink:"/openbao/docs/platform/servicenow/troubleshooting"},next:{title:"External plugin architecture",permalink:"/openbao/docs/plugins/plugin-architecture"}},a={},p=[{value:"Built-In plugins",id:"built-in-plugins",level:2},{value:"External plugins",id:"external-plugins",level:2},{value:"Plugin versioning",id:"plugin-versioning",level:2},{value:"Built-In versions",id:"built-in-versions",level:3}];function u(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"plugin-system",children:"Plugin system"}),"\n",(0,t.jsx)(e.p,{children:"OpenBao supports 3 types of plugins; auth methods, secret engines, and database\nplugins. This concept allows both built-in and external plugins to be treated\nlike building blocks. Any plugin can exist at multiple different mount paths.\nDifferent versions of a plugin may be at each location, with each version differing\nfrom OpenBao's version."}),"\n",(0,t.jsxs)(e.p,{children:["A plugin is uniquely identified by its type (one of ",(0,t.jsx)(e.code,{children:"secret"}),", ",(0,t.jsx)(e.code,{children:"auth"}),", or\n",(0,t.jsx)(e.code,{children:"database"}),"), name (e.g. ",(0,t.jsx)(e.code,{children:"kv"}),"), and version (e.g ",(0,t.jsx)(e.code,{children:"v1.0.0"}),"). An empty version\nimplies either the built-in plugin or the single unversioned plugin that can\nbe registered."]}),"\n",(0,t.jsxs)(e.p,{children:["See ",(0,t.jsx)(e.a,{href:"/docs/upgrading/plugins#plugin-upgrade-procedure",children:"Plugin Upgrade Procedure"}),"\nfor details on how to upgrade a built-in plugin in-place."]}),"\n",(0,t.jsx)(e.h2,{id:"built-in-plugins",children:"Built-In plugins"}),"\n",(0,t.jsx)(e.p,{children:"Built-in plugins are shipped with OpenBao, often for commonly used integrations,\nand can be used without any prerequisite steps."}),"\n",(0,t.jsx)(e.h2,{id:"external-plugins",children:"External plugins"}),"\n",(0,t.jsx)(e.p,{children:"External plugins are not shipped with OpenBao and require additional operator\nintervention to run."}),"\n",(0,t.jsxs)(e.p,{children:["To run an external plugin, a binary of the plugin is required. Plugin\nbinaries can be obtained from ",(0,t.jsx)(e.a,{href:"https://releases.hashicorp.com/",children:"releases.hashicorp.com"}),"\nor they can be ",(0,t.jsx)(e.a,{href:"/docs/plugins/plugin-development#building-a-plugin-from-source",children:"built from source"}),"."]}),"\n",(0,t.jsxs)(e.p,{children:["OpenBao's external plugins are completely separate, standalone applications that\nOpenBao executes and communicates with over RPC. Each time an OpenBao secret engine,\nauth method, or database plugin is mounted, a new process is spawned. However,\nplugins can be made to implement ",(0,t.jsx)(e.a,{href:"/docs/plugins/plugin-architecture#plugin-multiplexing",children:"plugin multiplexing"}),"\nto improve performance. Plugin multiplexing allows plugin processes to be\nreused across all mounts of a given type."]}),"\n",(0,t.jsxs)(e.p,{children:["-> ",(0,t.jsx)(e.strong,{children:"NOTE:"})," See the ",(0,t.jsx)(e.a,{href:"/integrations",children:"OpenBao Integrations"})," page to find a\ncurated collection of official, partner, and community OpenBao plugins."]}),"\n",(0,t.jsx)(e.h2,{id:"plugin-versioning",children:"Plugin versioning"}),"\n",(0,t.jsx)(e.p,{children:"OpenBao supports managing, running and upgrading plugins using semantic version\ninformation."}),"\n",(0,t.jsx)(e.p,{children:"The plugin catalog optionally supports specifying a semantic version when\nregistering an external plugin. Multiple versions of a plugin can be registered\nin the catalog simultaneously, and a version can be selected when mounting a\nplugin or tuning an existing mount in-place."}),"\n",(0,t.jsx)(e.p,{children:"If no version is specified when creating a new mount, the following precedence is used\nfor any available plugins whose type and name match:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"The plugin registered with no version"}),"\n",(0,t.jsx)(e.li,{children:"The plugin with the most recent semantic version among any registered versions"}),"\n",(0,t.jsx)(e.li,{children:"The plugin built into OpenBao"}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"built-in-versions",children:"Built-In versions"}),"\n",(0,t.jsx)(e.p,{children:"OpenBao will report a version for built-in plugins to indicate what version of the\nplugin code got built into OpenBao as a dependency. For example:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-shell-session",children:"$ bao plugin list secret\nName                Version\n----                -------\nkubernetes      v0.5.0+builtin\nkv              v0.15.0+builtin\nldap            v1.14.8+builtin.openbao\nopenldap        v0.11.1+builtin\npki             v1.14.8+builtin.openbao\nrabbitmq        v1.14.8+builtin.openbao\nssh             v1.14.8+builtin.openbao\ntotp            v1.14.8+builtin.openbao\ntransit         v1.14.8+builtin.openbao\n"})}),"\n",(0,t.jsxs)(e.p,{children:["Here, OpenBao has a dependency on ",(0,t.jsx)(e.code,{children:"v0.15.0"})," of the ",(0,t.jsx)(e.a,{href:"https://github.com/openbao/openbao-plugin-secrets-kv",children:"openbao-plugin-secrets-kv"}),"\nrepo, and the ",(0,t.jsx)(e.code,{children:"openbao"})," metadata identifier for ",(0,t.jsx)(e.code,{children:"pki"})," indicates that plugin's code was\nwithin the OpenBao repo. For plugins within the OpenBao repo, OpenBao's own major, minor,\nand patch versions are used to form the plugin version."]}),"\n",(0,t.jsxs)(e.p,{children:["The ",(0,t.jsx)(e.code,{children:"builtin"})," metadata identifier is reserved and cannot be used when registering\nexternal plugins."]})]})}function c(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(u,{...n})}):u(n)}},28453:(n,e,i)=>{i.d(e,{R:()=>l,x:()=>r});var t=i(96540);const s={},o=t.createContext(s);function l(n){const e=t.useContext(o);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),t.createElement(o.Provider,{value:e},n.children)}}}]);