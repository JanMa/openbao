"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3087],{27241:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var a=s(74848),t=s(28453);const o={sidebar_label:"Overview",description:"In addition to a verbose HTTP API, OpenBao features a command-line interface\nthat wraps common functionality and formats output. The OpenBao CLI is a single\nstatic binary. It is a thin wrapper around the HTTP API. Every CLI command\nmaps directly to the HTTP API internally."},i="OpenBao commands (CLI)",r={id:"commands/index",title:"OpenBao commands (CLI)",description:"In addition to a verbose HTTP API, OpenBao features a command-line interface\nthat wraps common functionality and formats output. The OpenBao CLI is a single\nstatic binary. It is a thin wrapper around the HTTP API. Every CLI command\nmaps directly to the HTTP API internally.",source:"@site/content/docs/commands/index.mdx",sourceDirName:"commands",slug:"/commands/",permalink:"/openbao/docs/commands/",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/docs/commands/index.mdx",tags:[],version:"current",frontMatter:{sidebar_label:"Overview",description:"In addition to a verbose HTTP API, OpenBao features a command-line interface\nthat wraps common functionality and formats output. The OpenBao CLI is a single\nstatic binary. It is a thin wrapper around the HTTP API. Every CLI command\nmaps directly to the HTTP API internally."},sidebar:"docs",previous:{title:"Log completed requests",permalink:"/openbao/docs/configuration/log-requests-level"},next:{title:"agent",permalink:"/openbao/docs/commands/agent"}},l={},d=[{value:"CLI command structure",id:"cli-command-structure",level:2},{value:"Examples:",id:"examples",level:4},{value:"Print cURL command",id:"print-curl-command",level:3},{value:"Print policy requirements",id:"print-policy-requirements",level:4},{value:"Command help",id:"command-help",level:2},{value:"CLI help",id:"cli-help",level:3},{value:"API help",id:"api-help",level:3},{value:"Command input",id:"command-input",level:2},{value:"stdin",id:"stdin",level:3},{value:"Files",id:"files",level:3},{value:"Mount flag syntax (KV)",id:"mount-flag-syntax-kv",level:2},{value:"Exit codes",id:"exit-codes",level:2},{value:"Autocompletion",id:"autocompletion",level:2},{value:"Token helper",id:"token-helper",level:2},{value:"Environment variables",id:"environment-variables",level:2},{value:"<code>VAULT_TOKEN</code>",id:"vault_token",level:3},{value:"<code>VAULT_ADDR</code>",id:"vault_addr",level:3},{value:"<code>VAULT_CACERT</code>",id:"vault_cacert",level:3},{value:"<code>VAULT_CAPATH</code>",id:"vault_capath",level:3},{value:"<code>VAULT_CLIENT_CERT</code>",id:"vault_client_cert",level:3},{value:"<code>VAULT_CLIENT_KEY</code>",id:"vault_client_key",level:3},{value:"<code>VAULT_CLIENT_TIMEOUT</code>",id:"vault_client_timeout",level:3},{value:"<code>VAULT_CLUSTER_ADDR</code>",id:"vault_cluster_addr",level:3},{value:"<code>BAO_FORMAT</code>",id:"bao_format",level:3},{value:"<code>BAO_LOG_LEVEL</code>",id:"bao_log_level",level:3},{value:"<code>VAULT_MAX_RETRIES</code>",id:"vault_max_retries",level:3},{value:"<code>VAULT_REDIRECT_ADDR</code>",id:"vault_redirect_addr",level:3},{value:"<code>VAULT_SKIP_VERIFY</code>",id:"vault_skip_verify",level:3},{value:"<code>VAULT_TLS_SERVER_NAME</code>",id:"vault_tls_server_name",level:3},{value:"<code>BAO_CLI_NO_COLOR</code>",id:"bao_cli_no_color",level:3},{value:"<code>VAULT_RATE_LIMIT</code>",id:"vault_rate_limit",level:3},{value:"<code>VAULT_NAMESPACE</code>",id:"vault_namespace",level:3},{value:"<code>VAULT_SRV_LOOKUP</code>",id:"vault_srv_lookup",level:3},{value:"<code>VAULT_HTTP_PROXY</code>",id:"vault_http_proxy",level:3},{value:"<code>VAULT_PROXY_ADDR</code>",id:"vault_proxy_addr",level:3},{value:"<code>VAULT_DISABLE_REDIRECTS</code>",id:"vault_disable_redirects",level:3},{value:"Flags",id:"flags",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"openbao-commands-cli",children:"OpenBao commands (CLI)"}),"\n",(0,a.jsxs)(n.p,{children:["In addition to a verbose ",(0,a.jsx)(n.a,{href:"/api-docs",children:"HTTP API"}),", OpenBao features a command-line\ninterface (CLI) that wraps common functionality and formats output. The OpenBao\nCLI is a single static binary. It is a thin wrapper around the HTTP API. Every\nCLI command maps directly to the HTTP API internally."]}),"\n",(0,a.jsx)(n.h2,{id:"cli-command-structure",children:"CLI command structure"}),"\n",(0,a.jsx)(n.p,{children:"Each command is represented as a command or subcommand, and there are a number\nof command and subcommand options available: HTTP options, output options, and\ncommand-specific options."}),"\n",(0,a.jsx)(n.p,{children:"Construct your OpenBao CLI command such that the command options precede its path\nand arguments if any:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"bao <command> [options] [path] [args]\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"options"})," - ",(0,a.jsx)(n.a,{href:"/docs/commands#flags",children:"Flags"})," to specify additional settings"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"args"})," - API arguments specific to the operation"]}),"\n"]}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"NOTE:"})," Use the ",(0,a.jsx)(n.a,{href:"#command-help",children:"command help"})," to display available options\nand arguments."]})}),"\n",(0,a.jsx)(n.h4,{id:"examples",children:"Examples:"}),"\n",(0,a.jsxs)(n.p,{children:["The following ",(0,a.jsx)(n.code,{children:"write"})," command creates a new user (",(0,a.jsx)(n.code,{children:"bob"}),") in the userpass auth\nmethod. It passes the ",(0,a.jsx)(n.code,{children:"-address"})," flag to specify the OpenBao server address which\nprecedes the path (",(0,a.jsx)(n.code,{children:"auth/userpass/users/bob"}),") and its\n",(0,a.jsx)(n.a,{href:"/api-docs/auth/userpass#create-update-user",children:"argument"}),"\n(",(0,a.jsx)(n.code,{children:'password="long-password"'}),") at last."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell-session",children:'$ bao write -address="http://127.0.0.1:8200" auth/userpass/users/bob password="long-password"\n'})}),"\n",(0,a.jsxs)(n.p,{children:["If multiple options (",(0,a.jsx)(n.code,{children:"-address"})," and ",(0,a.jsx)(n.code,{children:"-namespace"}),") and\n",(0,a.jsx)(n.a,{href:"/api-docs/auth/userpass#create-update-user",children:"arguments"})," (",(0,a.jsx)(n.code,{children:"password"})," and\n",(0,a.jsx)(n.code,{children:"policies"}),") are specified, the command would look like:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell-session",children:'$ bao write -address="http://127.0.0.1:8200" -namespace="my-organization" \\\n        auth/userpass/users/bob password="long-password" policies="admin"\n'})}),"\n",(0,a.jsx)(n.p,{children:"The options (flags) come after the command (or subcommand) preceding the path,\nand the args always follow the path to set API parameter values."}),"\n",(0,a.jsxs)(n.p,{children:["The four most common operations in OpenBao are ",(0,a.jsx)(n.a,{href:"/docs/commands/read",children:"read"}),",\n",(0,a.jsx)(n.a,{href:"/docs/commands/write",children:"write"}),", ",(0,a.jsx)(n.a,{href:"/docs/commands/delete",children:"delete"}),", and\n",(0,a.jsx)(n.a,{href:"/docs/commands/list",children:"list"}),". These operations work on most paths in OpenBao. Some\npaths will contain secrets while other paths may contain configuration. Whatever it\nis, the primary interface for reading and writing data to OpenBao is similar."]}),"\n",(0,a.jsx)(n.h3,{id:"print-curl-command",children:"Print cURL command"}),"\n",(0,a.jsxs)(n.p,{children:["To see the equivalent API call to perform the same operation, use the\n",(0,a.jsx)(n.code,{children:"-output-curl-string"})," flag after the subcommand."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell-session",children:'$ bao write -output-curl-string  auth/userpass/users/bob password="long-password"\n\ncurl -X PUT -H "X-Vault-Request: true" -H "X-Vault-Token: $(bao print token)" -d \'{"password":"long-password"}\' http://127.0.0.1:8200/v1/auth/userpass/users/bob\n'})}),"\n",(0,a.jsx)(n.h4,{id:"print-policy-requirements",children:"Print policy requirements"}),"\n",(0,a.jsxs)(n.p,{children:["To view the policy requirements to perform an operation, use the ",(0,a.jsx)(n.code,{children:"-output-policy"})," flag after the subcommand."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:'$ bao kv put -output-policy kv/secret value=itsasecret\n\npath "kv/data/secret" {\n  capabilities = ["create", "update"]\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"command-help",children:"Command help"}),"\n",(0,a.jsxs)(n.p,{children:["There are two primary ways to get help in OpenBao: ",(0,a.jsxs)(n.a,{href:"#cli-help",children:["CLI help (",(0,a.jsx)(n.code,{children:"help"}),")"]}),"\nand ",(0,a.jsxs)(n.a,{href:"#api-help",children:["API help (",(0,a.jsx)(n.code,{children:"path-help"}),")"]}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"cli-help",children:"CLI help"}),"\n",(0,a.jsxs)(n.p,{children:["Use ",(0,a.jsx)(n.code,{children:"help"})," (or ",(0,a.jsx)(n.code,{children:"-h"})," for shorthand) to see the CLI help output which corresponds\nto your OpenBao version."]}),"\n",(0,a.jsx)(n.p,{children:"To get CLI help:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell-session",children:"$ bao help\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Example:"})," To get help on the ",(0,a.jsx)(n.code,{children:"kv"})," command."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell-session",children:"$ bao kv help\n"})}),"\n",(0,a.jsx)(n.p,{children:"The help output displays available subcommands, parameters, and command flags."}),"\n",(0,a.jsx)(n.h3,{id:"api-help",children:"API help"}),"\n",(0,a.jsxs)(n.p,{children:["To invoke the OpenBao API paths, you can use the ",(0,a.jsx)(n.a,{href:"/docs/commands/read",children:"read"})," (for\nHTTP GET), ",(0,a.jsx)(n.a,{href:"/docs/commands/write",children:"write"})," (for HTTP PUT or POST),\n",(0,a.jsx)(n.a,{href:"/docs/commands/delete",children:"delete"})," (for HTTP DELETE), and\n",(0,a.jsx)(n.a,{href:"/docs/commands/list",children:"list"})," (for HTTP LIST) commands."]}),"\n",(0,a.jsxs)(n.p,{children:["Use ",(0,a.jsx)(n.code,{children:"path-help"})," to get OpenBao API help:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell-session",children:"$ bao path-help -h\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"path-help"})," retrieves API help on any API paths. OpenBao API paths provide\nbuilt-in help in markdown format. This includes system paths, secret engines,\nand auth methods."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Example:"})," API help on the ",(0,a.jsx)(n.a,{href:"/api-docs/system/mounts",children:(0,a.jsx)(n.code,{children:"sys/mounts/"})})," path."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell-session",children:"$ bao path-help sys/mounts\nRequest:        mounts\nMatching Route: ^mounts$\n\nList the currently mounted backends.\n\n## DESCRIPTION\n\nThis path responds to the following HTTP methods.\n\n    GET /\n        Lists all the mounted secret backends.\n\n    GET /<mount point>\n        Get information about the mount at the specified path.\n\n    POST /<mount point>\n        Mount a new secret backend to the mount point in the URL.\n\n    POST /<mount point>/tune\n        Tune configuration parameters for the given mount point.\n\n    DELETE /<mount point>\n        Unmount the specified mount point.\n"})}),"\n",(0,a.jsx)(n.p,{children:"The help output displays supported child-paths and available parameters if there\nare any."}),"\n",(0,a.jsx)(n.h2,{id:"command-input",children:"Command input"}),"\n",(0,a.jsx)(n.p,{children:"To write data to OpenBao, the input can be a part of the command in key-value\nformat."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell-session",children:"$ bao kv put secret/password value=itsasecret\n"})}),"\n",(0,a.jsx)(n.p,{children:"However, some OpenBao API require more advanced structures such as maps. You can\nuse stdin or file input instead."}),"\n",(0,a.jsx)(n.h3,{id:"stdin",children:"stdin"}),"\n",(0,a.jsxs)(n.p,{children:["Some commands in OpenBao can read data from stdin using ",(0,a.jsx)(n.code,{children:"-"})," as the value. If ",(0,a.jsx)(n.code,{children:"-"}),"\nis the entire argument, OpenBao expects to read a JSON object from stdin:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell-session",children:'$ echo -n \'{"value":"itsasecret"}\' | bao kv put secret/password -\n'})}),"\n",(0,a.jsx)(n.p,{children:"In addition to reading full JSON objects, OpenBao can read just a value from\nstdin:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell-session",children:'$ echo -n "itsasecret" | bao kv put secret/password value=-\n'})}),"\n",(0,a.jsx)(n.h3,{id:"files",children:"Files"}),"\n",(0,a.jsxs)(n.p,{children:["Some commands can also read data from a file on disk. The usage is similar to\nstdin as documented above. If an argument starts with ",(0,a.jsx)(n.code,{children:"@"}),", OpenBao will read it as\na file:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell-session",children:"$ bao kv put secret/password @data.json\n"})}),"\n",(0,a.jsx)(n.p,{children:"Or specify the contents of a file as a value:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell-session",children:"$ bao kv put secret/password value=@data.txt\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Note that if an argument is supplied in a @key=value format, OpenBao will treat that as a\nkv pair with the key being ",(0,a.jsx)(n.code,{children:"@key"}),", not a file called ",(0,a.jsx)(n.code,{children:"key=value"}),". This also means that OpenBao\ndoes not support filenames with ",(0,a.jsx)(n.code,{children:"="})," in them."]}),"\n",(0,a.jsx)(n.h2,{id:"mount-flag-syntax-kv",children:"Mount flag syntax (KV)"}),"\n",(0,a.jsxs)(n.p,{children:["All ",(0,a.jsx)(n.code,{children:"kv"})," commands can alternatively refer to the path to the KV secrets engine using a flag-based syntax like ",(0,a.jsx)(n.code,{children:"$ bao kv get -mount=secret password"}),"\ninstead of ",(0,a.jsx)(n.code,{children:"$ bao kv get secret/password"}),". The mount flag syntax was created to mitigate confusion caused by the fact that for KV v2 secrets,\ntheir full path (used in policies and raw API calls) actually contains a nested ",(0,a.jsx)(n.code,{children:"/data/"})," element (e.g. ",(0,a.jsx)(n.code,{children:"secret/data/password"}),") which can be easily overlooked when using\nthe above KV v1-like syntax ",(0,a.jsx)(n.code,{children:"secret/password"}),". To avoid this confusion, all KV-specific docs pages will use the ",(0,a.jsx)(n.code,{children:"-mount"})," flag."]}),"\n",(0,a.jsx)(n.h2,{id:"exit-codes",children:"Exit codes"}),"\n",(0,a.jsx)(n.p,{children:"The OpenBao CLI aims to be consistent and well-behaved unless documented\notherwise."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Local errors such as incorrect flags, failed validations, or wrong numbers\nof arguments return an exit code of 1."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Any remote errors such as API failures, bad TLS, or incorrect API parameters\nreturn an exit status of 2"}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Some commands override this default where it makes sense. These commands\ndocument this anomaly."}),"\n",(0,a.jsx)(n.h2,{id:"autocompletion",children:"Autocompletion"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"bao"})," command features opt-in autocompletion for flags, subcommands, and\narguments (where supported)."]}),"\n",(0,a.jsx)(n.p,{children:"Enable autocompletion by running:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell-session",children:"$ bao -autocomplete-install\n"})}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsxs)(n.p,{children:["Be sure to ",(0,a.jsx)(n.strong,{children:"restart your shell"})," after installing autocompletion!"]})}),"\n",(0,a.jsxs)(n.p,{children:["When you start typing an OpenBao command, press the ",(0,a.jsx)(n.code,{children:"<tab>"})," character to show a\nlist of available completions. Type ",(0,a.jsx)(n.code,{children:"-<tab>"})," to show available flag completions."]}),"\n",(0,a.jsxs)(n.p,{children:["If the ",(0,a.jsx)(n.code,{children:"BAO_*"})," environment variables are set, the autocompletion will\nautomatically query the OpenBao server and return helpful argument suggestions."]}),"\n",(0,a.jsx)(n.h2,{id:"token-helper",children:"Token helper"}),"\n",(0,a.jsx)(n.p,{children:'By default, the OpenBao CLI uses a "token helper" to cache the token after\nauthentication. This is conceptually similar to how a website securely stores\nyour session information as a cookie in the browser. Token helpers are\ncustomizable, and you can even build your own.'}),"\n",(0,a.jsxs)(n.p,{children:["The default token helper stores the token in ",(0,a.jsx)(n.code,{children:"~/.vault-token"}),'. You can delete\nthis file at any time to "logout" of OpenBao.']}),"\n",(0,a.jsx)(n.h2,{id:"environment-variables",children:"Environment variables"}),"\n",(0,a.jsx)(n.p,{children:"The CLI reads the following environment variables to set behavioral defaults.\nThis can alleviate the need to repetitively type a flag. Flags always take\nprecedence over the environment variables. Each of the following environment\nvariables must be set on the OpenBao process. All environment  variables\navailable to the OpenBao process will be logged during startup."}),"\n",(0,a.jsx)(n.h3,{id:"vault_token",children:(0,a.jsx)(n.code,{children:"VAULT_TOKEN"})}),"\n",(0,a.jsxs)(n.p,{children:["OpenBao authentication token. Conceptually similar to a session token on a\nwebsite, the ",(0,a.jsx)(n.code,{children:"VAULT_TOKEN"})," environment variable holds the contents of the token.\nFor more information, please see the ",(0,a.jsx)(n.a,{href:"/docs/concepts/tokens",children:"token\nconcepts"})," page."]}),"\n",(0,a.jsx)(n.h3,{id:"vault_addr",children:(0,a.jsx)(n.code,{children:"VAULT_ADDR"})}),"\n",(0,a.jsxs)(n.p,{children:["Address of the OpenBao server expressed as a URL and port, for example:\n",(0,a.jsx)(n.code,{children:"https://127.0.0.1:8200/"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"vault_cacert",children:(0,a.jsx)(n.code,{children:"VAULT_CACERT"})}),"\n",(0,a.jsxs)(n.p,{children:["Path to a PEM-encoded CA certificate ",(0,a.jsx)(n.em,{children:"file"})," on the local disk. This file is used\nto verify the OpenBao server's SSL certificate. This environment variable takes\nprecedence over ",(0,a.jsx)(n.code,{children:"VAULT_CAPATH"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"vault_capath",children:(0,a.jsx)(n.code,{children:"VAULT_CAPATH"})}),"\n",(0,a.jsxs)(n.p,{children:["Path to a ",(0,a.jsx)(n.em,{children:"directory"})," of PEM-encoded CA certificate files on the local disk.\nThese certificates are used to verify the OpenBao server's SSL certificate."]}),"\n",(0,a.jsx)(n.h3,{id:"vault_client_cert",children:(0,a.jsx)(n.code,{children:"VAULT_CLIENT_CERT"})}),"\n",(0,a.jsx)(n.p,{children:"Path to a PEM-encoded client certificate on the local disk. This file is used\nfor TLS communication with the OpenBao server."}),"\n",(0,a.jsx)(n.h3,{id:"vault_client_key",children:(0,a.jsx)(n.code,{children:"VAULT_CLIENT_KEY"})}),"\n",(0,a.jsx)(n.p,{children:"Path to an unencrypted, PEM-encoded private key on disk which corresponds to the\nmatching client certificate."}),"\n",(0,a.jsx)(n.h3,{id:"vault_client_timeout",children:(0,a.jsx)(n.code,{children:"VAULT_CLIENT_TIMEOUT"})}),"\n",(0,a.jsx)(n.p,{children:"Timeout variable. The default value is 60s."}),"\n",(0,a.jsx)(n.h3,{id:"vault_cluster_addr",children:(0,a.jsx)(n.code,{children:"VAULT_CLUSTER_ADDR"})}),"\n",(0,a.jsx)(n.p,{children:"Address that should be used for other cluster members to connect to this node\nwhen in High Availability mode."}),"\n",(0,a.jsx)(n.h3,{id:"bao_format",children:(0,a.jsx)(n.code,{children:"BAO_FORMAT"})}),"\n",(0,a.jsx)(n.p,{children:'Provide OpenBao output (read/status/write) in the specified format. Valid formats are "table", "json", or "yaml".'}),"\n",(0,a.jsx)(n.h3,{id:"bao_log_level",children:(0,a.jsx)(n.code,{children:"BAO_LOG_LEVEL"})}),"\n",(0,a.jsxs)(n.p,{children:["Set the OpenBao server's log level. The supported values are ",(0,a.jsx)(n.code,{children:"trace"}),", ",(0,a.jsx)(n.code,{children:"debug"}),",\n",(0,a.jsx)(n.code,{children:"info"}),", ",(0,a.jsx)(n.code,{children:"warn"}),", and ",(0,a.jsx)(n.code,{children:"err"}),". The default log leve is ",(0,a.jsx)(n.code,{children:"info"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"vault_max_retries",children:(0,a.jsx)(n.code,{children:"VAULT_MAX_RETRIES"})}),"\n",(0,a.jsxs)(n.p,{children:["Maximum number of retries when certain error codes are encountered. The default\nis ",(0,a.jsx)(n.code,{children:"2"}),", for three total attempts. Set this to ",(0,a.jsx)(n.code,{children:"0"})," or less to disable retrying."]}),"\n",(0,a.jsx)(n.p,{children:"Error codes that are retried are 412 (client consistency requirement not\nsatisfied) and all 5xx except for 501 (not implemented)."}),"\n",(0,a.jsx)(n.h3,{id:"vault_redirect_addr",children:(0,a.jsx)(n.code,{children:"VAULT_REDIRECT_ADDR"})}),"\n",(0,a.jsx)(n.p,{children:"Address that should be used when clients are redirected to this node when in\nHigh Availability mode."}),"\n",(0,a.jsx)(n.h3,{id:"vault_skip_verify",children:(0,a.jsx)(n.code,{children:"VAULT_SKIP_VERIFY"})}),"\n",(0,a.jsxs)(n.p,{children:["Do not verify OpenBao's presented certificate before communicating with it.\nSetting this variable is not recommended and voids OpenBao's ",(0,a.jsx)(n.a,{href:"/docs/internals/security",children:"security\nmodel"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"vault_tls_server_name",children:(0,a.jsx)(n.code,{children:"VAULT_TLS_SERVER_NAME"})}),"\n",(0,a.jsx)(n.p,{children:"Name to use as the SNI host when connecting via TLS."}),"\n",(0,a.jsx)(n.h3,{id:"bao_cli_no_color",children:(0,a.jsx)(n.code,{children:"BAO_CLI_NO_COLOR"})}),"\n",(0,a.jsx)(n.p,{children:"If provided, OpenBao output will not include ANSI color escape sequence characters."}),"\n",(0,a.jsx)(n.h3,{id:"vault_rate_limit",children:(0,a.jsx)(n.code,{children:"VAULT_RATE_LIMIT"})}),"\n",(0,a.jsxs)(n.p,{children:["This environment variable will limit the rate at which the ",(0,a.jsx)(n.code,{children:"bao"})," command\nsends requests to OpenBao."]}),"\n",(0,a.jsxs)(n.p,{children:["This environment variable has the format ",(0,a.jsx)(n.code,{children:"rate[:burst]"})," (where items in ",(0,a.jsx)(n.code,{children:"[]"}),' are\noptional). If not specified, the burst value defaults to rate. Both rate and\nburst are specified in "operations per second". If the environment variable is\nnot specified, then the rate and burst will be unlimited ',(0,a.jsx)(n.em,{children:"i.e."})," rate\nlimiting is off by default."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.em,{children:"Note:"})," The rate is limited for each invocation of the ",(0,a.jsx)(n.code,{children:"bao"})," CLI. Since\neach invocation of the ",(0,a.jsx)(n.code,{children:"bao"})," CLI typically only makes a few requests,\nthis environment variable is most useful when using the Go\n",(0,a.jsx)(n.a,{href:"/api-docs/libraries#go",children:"OpenBao client API"}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"vault_namespace",children:(0,a.jsx)(n.code,{children:"VAULT_NAMESPACE"})}),"\n",(0,a.jsx)(n.p,{children:"The namespace to use for the command. Setting this is not necessary\nbut allows using relative paths."}),"\n",(0,a.jsx)(n.h3,{id:"vault_srv_lookup",children:(0,a.jsx)(n.code,{children:"VAULT_SRV_LOOKUP"})}),"\n",(0,a.jsxs)(n.p,{children:["Enables the client to lookup the host through DNS SRV look up as described in this\n",(0,a.jsx)(n.a,{href:"https://tools.ietf.org/html/draft-andrews-http-srv-02",children:"draft"}),".\nThis is not designed for high-availability, just discovery.\nThe draft specifies that the SRV record lookup is ignored if a port is given."]}),"\n",(0,a.jsx)(n.h3,{id:"vault_http_proxy",children:(0,a.jsx)(n.code,{children:"VAULT_HTTP_PROXY"})}),"\n",(0,a.jsxs)(n.p,{children:["HTTP or HTTPS proxy location which should be used by all requests to access OpenBao.\nWhen present, this overrides the default proxy resolution behavior.\nFormat should be ",(0,a.jsx)(n.code,{children:"http://server:port"})," or ",(0,a.jsx)(n.code,{children:"https://server:port"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["(See ",(0,a.jsx)(n.code,{children:"VAULT_PROXY_ADDR"})," below)."]}),"\n",(0,a.jsx)(n.h3,{id:"vault_proxy_addr",children:(0,a.jsx)(n.code,{children:"VAULT_PROXY_ADDR"})}),"\n",(0,a.jsxs)(n.p,{children:["HTTP or HTTPS proxy location which should be used by all requests to access OpenBao.\nWhen present, this overrides the default proxy resolution behavior.\nFormat should be ",(0,a.jsx)(n.code,{children:"http://server:port"})," or ",(0,a.jsx)(n.code,{children:"https://server:port"}),"."]}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsxs)(n.p,{children:["Note: When using ",(0,a.jsx)(n.code,{children:"VAULT_HTTP_PROXY"})," or ",(0,a.jsx)(n.code,{children:"VAULT_PROXY_ADDR"})," any of the standard\nproxy variables found in the environment will be ignored.\nSpecifically ",(0,a.jsx)(n.code,{children:"HTTP_PROXY"}),", ",(0,a.jsx)(n.code,{children:"HTTPS_PROXY"})," and ",(0,a.jsx)(n.code,{children:"NO_PROXY"}),".\nAll requests will resolve the specified proxy; there is no way to exclude\ndomains from consulting the proxy server."]})}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsxs)(n.p,{children:["Note: If both ",(0,a.jsx)(n.code,{children:"VAULT_HTTP_PROXY"})," and ",(0,a.jsx)(n.code,{children:"VAULT_PROXY_ADDR"})," environment\nvariables are supplied, ",(0,a.jsx)(n.code,{children:"VAULT_PROXY_ADDR"})," will be prioritized and preferred."]})}),"\n",(0,a.jsx)(n.h3,{id:"vault_disable_redirects",children:(0,a.jsx)(n.code,{children:"VAULT_DISABLE_REDIRECTS"})}),"\n",(0,a.jsx)(n.p,{children:"Prevents the OpenBao client from following redirects. By default, the OpenBao client will automatically follow a single redirect."}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Note:"})," Disabling redirect following behavior could cause issues with commands such as 'bao operator raft snapshot' as this command redirects the request to the cluster's primary node."]})}),"\n",(0,a.jsx)(n.h2,{id:"flags",children:"Flags"}),"\n",(0,a.jsx)(n.p,{children:"There are different CLI flags that are available depending on subcommands. Some\nflags, such as those used for setting HTTP and output options, are available\nglobally, while others are specific to a particular subcommand. For a complete\nlist of available flags, run:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell-session",children:"$ bao <subcommand> -h\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>r});var a=s(96540);const t={},o=a.createContext(t);function i(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(o.Provider,{value:n},e.children)}}}]);