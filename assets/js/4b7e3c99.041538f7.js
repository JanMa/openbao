"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3673],{48629:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>l,default:()=>x,frontMatter:()=>s,metadata:()=>d,toc:()=>c});var r=n(74848),i=n(28453);const s={sidebar_label:"Authentication metrics",description:"Technical reference for authentication related telemetry values."},l="Authentication telemetry",d={id:"internals/telemetry/metrics/authn",title:"Authentication telemetry",description:"Technical reference for authentication related telemetry values.",source:"@site/content/docs/internals/telemetry/metrics/authn.mdx",sourceDirName:"internals/telemetry/metrics",slug:"/internals/telemetry/metrics/authn",permalink:"/docs/internals/telemetry/metrics/authn",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/docs/internals/telemetry/metrics/authn.mdx",tags:[],version:"current",frontMatter:{sidebar_label:"Authentication metrics",description:"Technical reference for authentication related telemetry values."},sidebar:"docs",previous:{title:"Audit log metrics",permalink:"/docs/internals/telemetry/metrics/audit"},next:{title:"Availability metics",permalink:"/docs/internals/telemetry/metrics/availability"}},h={},c=[{value:"Identity metrics",id:"identity-metrics",level:2},{value:"Lease metrics",id:"lease-metrics",level:2},{value:"Token metrics",id:"token-metrics",level:2}];function a(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"authentication-telemetry",children:"Authentication telemetry"}),"\n",(0,r.jsx)(t.p,{children:"Authentication telemetry provides information on authentication-related\nobjects and operations."}),"\n",(0,r.jsx)(t.h2,{id:"identity-metrics",children:"Identity metrics"}),"\n",(0,r.jsx)(t.h3,{children:"vault.identity.entity.active.monthly ((#vault-identity-entity-active-monthly))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"entities"}),(0,r.jsx)(t.td,{children:"The number of distinct entities (per namespace) that created a token during the past month"})]})})]}),"\n",(0,r.jsxs)(t.p,{children:["OpenBao reports ",(0,r.jsx)(t.code,{children:"vault.identity.entity.active.monthly"})," at the start of each month\nwhen client counting is enabled."]}),"\n",(0,r.jsx)(t.h3,{children:"vault.identity.entity.active.partial_month ((#vault-identity-entity-active-partial_month))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"entities"}),(0,r.jsx)(t.td,{children:"The number of distinct entities (per namespace) that created a token during the current month"})]})})]}),"\n",(0,r.jsxs)(t.p,{children:["OpenBao reports ",(0,r.jsx)(t.code,{children:"vault.identity.entity.active.partial_month"})," periodically during\nthe month when client counting is enabled."]}),"\n",(0,r.jsx)(t.h3,{children:"vault.identity.entity.active.reporting_period ((#vault-identity-entity-active-reporting_period))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"entities"}),(0,r.jsx)(t.td,{children:"The number of distinct entities (per namespace) that created a token during the configured reporting period"})]})})]}),"\n",(0,r.jsxs)(t.p,{children:["OpenBao reports ",(0,r.jsx)(t.code,{children:"vault.identity.entity.active.reporting_period"})," at the start of\neach month when client counting is enabled."]}),"\n",(0,r.jsx)(t.h3,{children:"vault.identity.entity.alias.count ((#vault-identity-entity-alias-count))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"aliases"}),(0,r.jsx)(t.td,{children:"The number of identity entities aliases (per authN mount) currently stored in OpenBao"})]})})]}),"\n",(0,r.jsxs)(t.p,{children:["OpenBao updates the alias count every ",(0,r.jsx)(t.code,{children:"usage_guage_period"})," interval."]}),"\n",(0,r.jsx)(t.h3,{children:"vault.identity.entity.count ((#vault-identity-entity-count))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"entities"}),(0,r.jsx)(t.td,{children:"The number of identity entity aliases (per namespace) currently stored in OpenBao"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.identity.entity.creation ((#vault-identity-entity-creation))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"counter"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"The number of identity entities created per namespace"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.identity.num_entities ((#vault-identity-num_entities))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"entities"}),(0,r.jsx)(t.td,{children:"The total number of identity entities currently stored in OpenBao"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.identity.upsert_entity_txn ((#vault-identity-upsert_entity_txn))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to upsert an entity to the in-memory database and, on the active node, persist the data to storage"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.identity.upsert_group_txn ((#vault-identity-upsert_group_txn))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to upsert group membership to the in-memory database and, on the active node, persist the data to storage"})]})})]}),"\n",(0,r.jsx)(t.h2,{id:"lease-metrics",children:"Lease metrics"}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.fetch-lease-times-by-token ((#vault-expire-fetch_lease_times_by_token))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to retrieve lease times by token"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.fetch-lease-times ((#vault-expire-fetch_lease_times))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to retrieve lease times"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.job_manager.queue_length ((#vault-expire-job_manager-queue_length))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"leases"}),(0,r.jsxs)(t.td,{children:["The total number of pending revocation jobs by ",(0,r.jsx)(t.code,{children:"queue_id"})]})]})})]}),"\n",(0,r.jsxs)(t.p,{children:["The queue ID in the ",(0,r.jsx)(t.code,{children:"queue_id"})," label indicates the mount accessor associated\nwith the expiring lease. For example, the secrets engine or authentication method."]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.job_manager.total_jobs ((#vault-expire-job_manager-total_jobs))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"leases"}),(0,r.jsx)(t.td,{children:"The total number of pending revocation jobs"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.lease_expiration ((#vault-expire-lease_expiration))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"counter"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"The number of lease expirations to date"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.lease_expiration.error ((#vault-expire-lease_expiration-error))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"counter"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"The total number of lease expiration errors"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.lease_expiration.time_in_queue ((#vault-expire-lease_expiration-time_in_queue))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken for a lease to get to the front of the revoke queue"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.leases.by_expiration ((#vault-expire-leases-by_expiration))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"leases"}),(0,r.jsx)(t.td,{children:"The number of leases set to expire, grouped by the configured interval"})]})})]}),"\n",(0,r.jsx)(t.p,{children:"The relevant time intervals are defined in the telemetry stanza for your\nOpenBao server configuration with the following parameters:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"lease_metrics_epsilon"}),": 1 hour (default)"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"num_lease_metrics_buckets"}),":  168 hours (default)"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"add_lease_metrics_namespace_labels"}),": false (default)"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["OpenBao reports the number of leases due to expire every ",(0,r.jsx)(t.code,{children:"lease_metrics_epsilon"}),"\ninterval in the time period ",(0,r.jsx)(t.code,{children:"current_time + num_lease_metrics_buckets"}),"."]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.num_irrevocable_leases ((#vault-expire-num_irrevocable_leases))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"leases"}),(0,r.jsx)(t.td,{children:"The number of leases that cannot be automatically revoked"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.num_leases ((#vault-expire-num_leases))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"leases"}),(0,r.jsx)(t.td,{children:"The total number of leases eligible for eventual expiry"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.register-auth ((#vault-expire-register_auth))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to register leases associated with new service tokens"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.register ((#vault-expire-register))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken for register operations"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.renew-token ((#vault-expire-renew_token))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to renew a token"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.renew ((#vault-expire-renew))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to renew a lease"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.revoke-by-token ((#vault-expire-revoke_by_token))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to revoke all secrets issued with a given token"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.revoke-force ((#vault-expire-revoke_force))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to forcibly revoke a token"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.revoke-prefix ((#vault-expire-revoke_prefix))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to revoke all tokens on a prefix"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.expire.revoke ((#vault-expire-revoke))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to revoke a token"})]})})]}),"\n",(0,r.jsx)(t.h2,{id:"token-metrics",children:"Token metrics"}),"\n",(0,r.jsx)(t.h3,{children:"vault.token.count ((#vault-token-count))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"Number of un-expired and un-revoked tokens available for use in the token store"})]})})]}),"\n",(0,r.jsx)(t.p,{children:"OpenBao updates the token count every 10 minutes organizes the result by cluster\nand namespace."}),"\n",(0,r.jsx)(t.h3,{children:"vault.token.count.by_auth ((#vault-token-count-by_auth))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"Total number of service tokens created by a particular auth method"})]})})]}),"\n",(0,r.jsx)(t.p,{children:"OpenBao organizes the token count by cluster, namespace, and authentication\nmethod."}),"\n",(0,r.jsx)(t.h3,{children:"vault.token.count.by_policy ((#vault-token-count-by_policy))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"Total number of service tokens with a particular policy attached"})]})})]}),"\n",(0,r.jsx)(t.p,{children:"OpenBao organizes the token count by cluster, namespace, and policy. Tokens with\nmore than one policy attached appear in the gauge for each associated policy."}),"\n",(0,r.jsx)(t.h3,{children:"vault.token.count.by_ttl ((#vault-token-count-by_ttl))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"Total number of service tokens assigned a particular time to live (TTL)"})]})})]}),"\n",(0,r.jsx)(t.p,{children:"OpenBao organizes the token count by cluster, namespace, and the TTL\nrange assigned at creation."}),"\n",(0,r.jsx)(t.h3,{children:"vault.token.create_root ((#vault-token-create_root))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"counter"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"Number of root tokens created"})]})})]}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"vault.token.create_root"})," counts the total number of root tokens created\nover time, not the number of root tokens currently in use. As a result, the\nvalue of ",(0,r.jsx)(t.code,{children:"vault.token.create_root"})," does not decrease when a root token is\nrevoked."]}),"\n",(0,r.jsx)(t.h3,{children:"vault.token.create ((#vault-token-create))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to create a token in OpenBao"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.token.createAccessor ((#vault-token-createaccessor))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to create a token accessor in OpenBao"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.token.creation ((#vault-token-creation))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"counter"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"Number of service or batch tokens created"})]})})]}),"\n",(0,r.jsx)(t.p,{children:"OpenBao organizes the creation count by cluster, namespace, authentication method,\nmount point, time to live (TTL), and token type."}),"\n",(0,r.jsx)(t.h3,{children:"vault.token.lookup ((#vault-token-lookup))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to look up a token in OpenBao"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.token.revoke-tree ((#vault-token-revoke_tree))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to fully revoke a token tree in OpenBao"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.token.revoke ((#vault-token-revoke))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to revoke a token in OpenBao"})]})})]}),"\n",(0,r.jsx)(t.h3,{children:"vault.token.store ((#vault-token-store))"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to store an updated token entry without writing to the secondary index"})]})})]})]})}function x(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>d});var r=n(96540);const i={},s=r.createContext(i);function l(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);