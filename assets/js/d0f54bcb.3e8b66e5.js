"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4569],{17239:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var n=s(74848),r=s(28453);const o={description:"The `/sys/key-status` endpoint is used to query info about the current\nencryption key of OpenBao."},i="/sys/key-status",a={id:"system/key-status",title:"/sys/key-status",description:"The `/sys/key-status` endpoint is used to query info about the current\nencryption key of OpenBao.",source:"@site/content/api-docs/system/key-status.mdx",sourceDirName:"system",slug:"/system/key-status",permalink:"/openbao/api-docs/system/key-status",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/api-docs/system/key-status.mdx",tags:[],version:"current",frontMatter:{description:"The `/sys/key-status` endpoint is used to query info about the current\nencryption key of OpenBao."},sidebar:"api",previous:{title:"/sys/internal/ui/resultant-acl",permalink:"/openbao/api-docs/system/internal-ui-resultant-acl"},next:{title:"/sys/ha-status",permalink:"/openbao/api-docs/system/ha-status"}},c={},l=[{value:"Get encryption key status",id:"get-encryption-key-status",level:2},{value:"Sample request",id:"sample-request",level:3},{value:"Sample response",id:"sample-response",level:3}];function d(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"syskey-status",children:(0,n.jsx)(t.code,{children:"/sys/key-status"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"/sys/key-status"})," endpoint is used to query info about the current\nencryption key of OpenBao."]}),"\n",(0,n.jsx)(t.h2,{id:"get-encryption-key-status",children:"Get encryption key status"}),"\n",(0,n.jsx)(t.p,{children:"This endpoint returns information about the current encryption key used by\nOpenBao."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Method"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"GET"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"/sys/key-status"})})]})})]}),"\n",(0,n.jsx)(t.h3,{id:"sample-request",children:"Sample request"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request GET \\\n    http://127.0.0.1:8200/v1/sys/key-status\n\n'})}),"\n",(0,n.jsx)(t.h3,{id:"sample-response",children:"Sample response"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",children:'{\n  "term": 3,\n  "install_time": "2015-05-29T14:50:46.223692553-07:00",\n  "encryptions": 74718331\n}\n'})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"term"})," parameter is the sequential key number. ",(0,n.jsx)(t.code,{children:"install_time"})," is the\ntime that encryption key was installed. ",(0,n.jsx)(t.code,{children:"encryptions"})," is the estimated\nnumber of encryptions made by the key including those on other cluster\nnodes."]}),"\n",(0,n.jsx)(t.p,{children:"Note that the estimated encryption count is aggregated from secondary\nOpenBao nodes to the primary but not in the other direction.  Thus the\ncount only accurately reflects the cluster-wide estimate when queried\non the primary."})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>i,x:()=>a});var n=s(96540);const r={},o=n.createContext(r);function i(e){const t=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);