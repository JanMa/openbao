"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[572],{88361:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>c});var s=n(74848),i=n(28453);const a={layout:"api",page_title:"/sys/config/state - HTTP API",description:"The '/sys/config/state' endpoint is used to retrieve the configuration state."},o="/sys/config/state",r={id:"system/config-state",title:"/sys/config/state",description:"The '/sys/config/state' endpoint is used to retrieve the configuration state.",source:"@site/content/api-docs/system/config-state.mdx",sourceDirName:"system",slug:"/system/config-state",permalink:"/openbao/api-docs/system/config-state",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/api-docs/system/config-state.mdx",tags:[],version:"current",frontMatter:{layout:"api",page_title:"/sys/config/state - HTTP API",description:"The '/sys/config/state' endpoint is used to retrieve the configuration state."},sidebar:"apiSidebar",previous:{title:"/sys/config/cors",permalink:"/openbao/api-docs/system/config-cors"},next:{title:"/sys/config/ui",permalink:"/openbao/api-docs/system/config-ui"}},l={},c=[{value:"Get sanitized configuration state",id:"get-sanitized-configuration-state",level:2},{value:"Sample request",id:"sample-request",level:3},{value:"Sample response",id:"sample-response",level:3}];function d(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"sysconfigstate",children:(0,s.jsx)(t.code,{children:"/sys/config/state"})}),"\n",(0,s.jsxs)(t.p,{children:["The endpoints under ",(0,s.jsx)(t.code,{children:"sys/config/state"})," return OpenBao's configuration state.\nCurrently, it only supports returning a sanitized version of the configuration."]}),"\n",(0,s.jsx)(t.h2,{id:"get-sanitized-configuration-state",children:"Get sanitized configuration state"}),"\n",(0,s.jsxs)(t.p,{children:["This endpoint returns a sanitized version of the configuration state. The\nconfiguration excludes certain fields and mappings in the configuration file\nthat can potentially contain sensitive information, which includes values from\n",(0,s.jsx)(t.code,{children:"Storage.Config"}),", ",(0,s.jsx)(t.code,{children:"HAStorage.Config"}),", ",(0,s.jsx)(t.code,{children:"Seals.Config"})," and the\n",(0,s.jsx)(t.code,{children:"Telemetry.CirconusAPIToken"})," value."]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Method"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"GET"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.code,{children:"/sys/config/state/sanitized"})})]})})]}),"\n",(0,s.jsx)(t.h3,{id:"sample-request",children:"Sample request"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell-session",children:"$ curl \\\n  --header \"X-Vault-Token: ...\" \\\n    'http://127.0.0.1:8200/v1/sys/config/state/sanitized'\n"})}),"\n",(0,s.jsx)(t.h3,{id:"sample-response",children:"Sample response"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "api_addr": "http://127.0.0.1:8200",\n  "cache_size": 0,\n  "cluster_addr": "",\n  "cluster_cipher_suites": "",\n  "cluster_name": "",\n  "default_lease_ttl": 0,\n  "default_max_request_duration": 0,\n  "disable_cache": false,\n  "disable_clustering": false,\n  "disable_indexing": false,\n  "disable_mlock": false,\n  "disable_performance_standby": false,\n  "disable_printable_check": false,\n  "disable_sealwrap": false,\n  "enable_ui": true,\n  "listeners": [\n    {\n      "config": {\n        "address": "127.0.0.1:8200",\n        "tls_disable": 1\n      },\n      "type": "tcp"\n    }\n  ],\n  "log_format": "",\n  "log_level": "",\n  "max_lease_ttl": 0,\n  "pid_file": "",\n  "plugin_directory": "/opt/openbao/plugins",\n  "raw_storage_endpoint": false,\n  "seals": [\n    {\n      "disabled": false,\n      "type": "shamir"\n    }\n  ],\n  "storage": {\n    "cluster_addr": "",\n    "disable_clustering": false,\n    "redirect_addr": "http://127.0.0.1:8200",\n    "type": "inmem"\n  }\n}\n'})})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>r});var s=n(96540);const i={},a=s.createContext(i);function o(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);