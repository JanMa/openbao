"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2795],{63533:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>n,metadata:()=>o,toc:()=>r});var i=t(74848),a=t(28453);const n={layout:"api",page_title:"/sys/capabilities-accessor - HTTP API",description:"The `/sys/capabilities-accessor` endpoint is used to fetch the capabilities of\nthe token associated with an accessor, on the given paths."},c="/sys/capabilities-accessor",o={id:"system/capabilities-accessor",title:"/sys/capabilities-accessor",description:"The `/sys/capabilities-accessor` endpoint is used to fetch the capabilities of\nthe token associated with an accessor, on the given paths.",source:"@site/content/api-docs/system/capabilities-accessor.mdx",sourceDirName:"system",slug:"/system/capabilities-accessor",permalink:"/openbao/api-docs/system/capabilities-accessor",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/api-docs/system/capabilities-accessor.mdx",tags:[],version:"current",frontMatter:{layout:"api",page_title:"/sys/capabilities-accessor - HTTP API",description:"The `/sys/capabilities-accessor` endpoint is used to fetch the capabilities of\nthe token associated with an accessor, on the given paths."},sidebar:"apiSidebar",previous:{title:"/sys/auth",permalink:"/openbao/api-docs/system/auth"},next:{title:"/sys/capabilities-self",permalink:"/openbao/api-docs/system/capabilities-self"}},l={},r=[{value:"Query token accessor capabilities",id:"query-token-accessor-capabilities",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Sample payload",id:"sample-payload",level:3},{value:"Sample request",id:"sample-request",level:3},{value:"Sample response",id:"sample-response",level:3}];function d(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{id:"syscapabilities-accessor",children:(0,i.jsx)(s.code,{children:"/sys/capabilities-accessor"})}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"/sys/capabilities-accessor"})," endpoint is used to fetch the capabilities of\nthe token associated with the given accessor. The capabilities returned will be\nderived from the policies that are on the token, and from the policies to which\nthe token is entitled to through the entity and entity's group memberships."]}),"\n",(0,i.jsx)(s.h2,{id:"query-token-accessor-capabilities",children:"Query token accessor capabilities"}),"\n",(0,i.jsxs)(s.p,{children:["This endpoint returns the capabilities of the token associated with the given\naccessor, for the given path. Multiple paths are taken in at once and the\ncapabilities of the token associated with the given accessor for each path is\nreturned. For backwards compatibility, if a single path is supplied, a\n",(0,i.jsx)(s.code,{children:"capabilities"})," field will also be returned."]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"POST"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/sys/capabilities-accessor"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"accessor"})," ",(0,i.jsx)(s.code,{children:"(string: <required>)"})," \u2013 Accessor of the token for which\ncapabilities are being queried."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"paths"})," ",(0,i.jsx)(s.code,{children:"(list: <required>)"})," \u2013 Paths on which capabilities are being\nqueried."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sample-payload",children:"Sample payload"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "accessor": "abcd1234",\n  "paths": ["secret/foo"]\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-request",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/sys/capabilities-accessor\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response",children:"Sample response"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "capabilities": ["delete", "list", "read", "update"],\n  "secret/foo": ["delete", "list", "read", "update"]\n}\n'})})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>c,x:()=>o});var i=t(96540);const a={},n=i.createContext(a);function c(e){const s=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),i.createElement(n.Provider,{value:s},e.children)}}}]);