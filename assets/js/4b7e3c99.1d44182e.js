"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3673],{48629:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>o,frontMatter:()=>l,metadata:()=>d,toc:()=>h});var r=i(74848),n=i(28453);const l={sidebar_label:"Authentication metrics",description:"Technical reference for authentication related telemetry values."},s="Authentication telemetry",d={id:"internals/telemetry/metrics/authn",title:"Authentication telemetry",description:"Technical reference for authentication related telemetry values.",source:"@site/content/docs/internals/telemetry/metrics/authn.mdx",sourceDirName:"internals/telemetry/metrics",slug:"/internals/telemetry/metrics/authn",permalink:"/openbao/docs/internals/telemetry/metrics/authn",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/docs/internals/telemetry/metrics/authn.mdx",tags:[],version:"current",frontMatter:{sidebar_label:"Authentication metrics",description:"Technical reference for authentication related telemetry values."},sidebar:"docs",previous:{title:"Audit log metrics",permalink:"/openbao/docs/internals/telemetry/metrics/audit"},next:{title:"Availability metics",permalink:"/openbao/docs/internals/telemetry/metrics/availability"}},c={},h=[{value:"Identity metrics",id:"identity-metrics",level:2},{value:"vault.identity.entity.alias.count",id:"vault-identity-entity-alias-count",level:3},{value:"vault.identity.entity.count",id:"vault-identity-entity-count",level:3},{value:"vault.identity.entity.creation",id:"vault-identity-entity-creation",level:3},{value:"vault.identity.num_entities",id:"vault-identity-num_entities",level:3},{value:"vault.identity.upsert_entity_txn",id:"vault-identity-upsert_entity_txn",level:3},{value:"vault.identity.upsert_group_txn",id:"vault-identity-upsert_group_txn",level:3},{value:"Lease metrics",id:"lease-metrics",level:2},{value:"vault.expire.fetch-lease-times-by-token",id:"vault-expire-fetch_lease_times_by_token",level:3},{value:"vault.expire.fetch-lease-times",id:"vault-expire-fetch_lease_times",level:3},{value:"vault.expire.job_manager.queue_length",id:"vault-expire-job_manager-queue_length",level:3},{value:"vault.expire.job_manager.total_jobs",id:"vault-expire-job_manager-total_jobs",level:3},{value:"vault.expire.lease_expiration",id:"vault-expire-lease_expiration",level:3},{value:"vault.expire.lease_expiration.error",id:"vault-expire-lease_expiration-error",level:3},{value:"vault.expire.lease_expiration.time_in_queue",id:"vault-expire-lease_expiration-time_in_queue",level:3},{value:"vault.expire.leases.by_expiration",id:"vault-expire-leases-by_expiration",level:3},{value:"vault.expire.num_irrevocable_leases",id:"vault-expire-num_irrevocable_leases",level:3},{value:"vault.expire.num_leases",id:"vault-expire-num_leases",level:3},{value:"vault.expire.register-auth",id:"vault-expire-register_auth",level:3},{value:"vault.expire.register",id:"vault-expire-register",level:3},{value:"vault.expire.renew-token",id:"vault-expire-renew_token",level:3},{value:"vault.expire.renew",id:"vault-expire-renew",level:3},{value:"vault.expire.revoke-by-token",id:"vault-expire-revoke_by_token",level:3},{value:"vault.expire.revoke-force",id:"vault-expire-revoke_force",level:3},{value:"vault.expire.revoke-prefix",id:"vault-expire-revoke_prefix",level:3},{value:"vault.expire.revoke",id:"vault-expire-revoke",level:3},{value:"Token metrics",id:"token-metrics",level:2},{value:"vault.token.count",id:"vault-token-count",level:3},{value:"vault.token.count.by_auth",id:"vault-token-count-by_auth",level:3},{value:"vault.token.count.by_policy",id:"vault-token-count-by_policy",level:3},{value:"vault.token.count.by_ttl",id:"vault-token-count-by_ttl",level:3},{value:"vault.token.create_root",id:"vault-token-create_root",level:3},{value:"vault.token.create",id:"vault-token-create",level:3},{value:"vault.token.createAccessor",id:"vault-token-createaccessor",level:3},{value:"vault.token.creation",id:"vault-token-creation",level:3},{value:"vault.token.lookup",id:"vault-token-lookup",level:3},{value:"vault.token.revoke-tree",id:"vault-token-revoke_tree",level:3},{value:"vault.token.revoke",id:"vault-token-revoke",level:3},{value:"vault.token.store",id:"vault-token-store",level:3}];function a(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"authentication-telemetry",children:"Authentication telemetry"}),"\n",(0,r.jsx)(t.p,{children:"Authentication telemetry provides information on authentication-related\nobjects and operations."}),"\n",(0,r.jsx)(t.h2,{id:"identity-metrics",children:"Identity metrics"}),"\n",(0,r.jsx)(t.h3,{id:"vault-identity-entity-alias-count",children:"vault.identity.entity.alias.count"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"aliases"}),(0,r.jsx)(t.td,{children:"The number of identity entities aliases (per authN mount) currently stored in OpenBao"})]})})]}),"\n",(0,r.jsxs)(t.p,{children:["OpenBao updates the alias count every ",(0,r.jsx)(t.code,{children:"usage_guage_period"})," interval."]}),"\n",(0,r.jsx)(t.h3,{id:"vault-identity-entity-count",children:"vault.identity.entity.count"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"entities"}),(0,r.jsx)(t.td,{children:"The number of identity entity aliases (per namespace) currently stored in OpenBao"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-identity-entity-creation",children:"vault.identity.entity.creation"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"counter"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"The number of identity entities created per namespace"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-identity-num_entities",children:"vault.identity.num_entities"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"entities"}),(0,r.jsx)(t.td,{children:"The total number of identity entities currently stored in OpenBao"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-identity-upsert_entity_txn",children:"vault.identity.upsert_entity_txn"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to upsert an entity to the in-memory database and, on the active node, persist the data to storage"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-identity-upsert_group_txn",children:"vault.identity.upsert_group_txn"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to upsert group membership to the in-memory database and, on the active node, persist the data to storage"})]})})]}),"\n",(0,r.jsx)(t.h2,{id:"lease-metrics",children:"Lease metrics"}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-fetch_lease_times_by_token",children:"vault.expire.fetch-lease-times-by-token"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to retrieve lease times by token"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-fetch_lease_times",children:"vault.expire.fetch-lease-times"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to retrieve lease times"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-job_manager-queue_length",children:"vault.expire.job_manager.queue_length"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"leases"}),(0,r.jsxs)(t.td,{children:["The total number of pending revocation jobs by ",(0,r.jsx)(t.code,{children:"queue_id"})]})]})})]}),"\n",(0,r.jsxs)(t.p,{children:["The queue ID in the ",(0,r.jsx)(t.code,{children:"queue_id"})," label indicates the mount accessor associated\nwith the expiring lease. For example, the secrets engine or authentication method."]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-job_manager-total_jobs",children:"vault.expire.job_manager.total_jobs"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"leases"}),(0,r.jsx)(t.td,{children:"The total number of pending revocation jobs"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-lease_expiration",children:"vault.expire.lease_expiration"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"counter"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"The number of lease expirations to date"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-lease_expiration-error",children:"vault.expire.lease_expiration.error"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"counter"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"The total number of lease expiration errors"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-lease_expiration-time_in_queue",children:"vault.expire.lease_expiration.time_in_queue"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken for a lease to get to the front of the revoke queue"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-leases-by_expiration",children:"vault.expire.leases.by_expiration"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"leases"}),(0,r.jsx)(t.td,{children:"The number of leases set to expire, grouped by the configured interval"})]})})]}),"\n",(0,r.jsx)(t.p,{children:"The relevant time intervals are defined in the telemetry stanza for your\nOpenBao server configuration with the following parameters:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"lease_metrics_epsilon"}),": 1 hour (default)"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"num_lease_metrics_buckets"}),":  168 hours (default)"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"add_lease_metrics_namespace_labels"}),": false (default)"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["OpenBao reports the number of leases due to expire every ",(0,r.jsx)(t.code,{children:"lease_metrics_epsilon"}),"\ninterval in the time period ",(0,r.jsx)(t.code,{children:"current_time + num_lease_metrics_buckets"}),"."]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-num_irrevocable_leases",children:"vault.expire.num_irrevocable_leases"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"leases"}),(0,r.jsx)(t.td,{children:"The number of leases that cannot be automatically revoked"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-num_leases",children:"vault.expire.num_leases"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"leases"}),(0,r.jsx)(t.td,{children:"The total number of leases eligible for eventual expiry"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-register_auth",children:"vault.expire.register-auth"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to register leases associated with new service tokens"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-register",children:"vault.expire.register"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken for register operations"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-renew_token",children:"vault.expire.renew-token"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to renew a token"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-renew",children:"vault.expire.renew"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to renew a lease"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-revoke_by_token",children:"vault.expire.revoke-by-token"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to revoke all secrets issued with a given token"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-revoke_force",children:"vault.expire.revoke-force"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to forcibly revoke a token"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-revoke_prefix",children:"vault.expire.revoke-prefix"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to revoke all tokens on a prefix"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-expire-revoke",children:"vault.expire.revoke"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time taken to revoke a token"})]})})]}),"\n",(0,r.jsx)(t.h2,{id:"token-metrics",children:"Token metrics"}),"\n",(0,r.jsx)(t.h3,{id:"vault-token-count",children:"vault.token.count"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"Number of un-expired and un-revoked tokens available for use in the token store"})]})})]}),"\n",(0,r.jsx)(t.p,{children:"OpenBao updates the token count every 10 minutes organizes the result by cluster\nand namespace."}),"\n",(0,r.jsx)(t.h3,{id:"vault-token-count-by_auth",children:"vault.token.count.by_auth"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"Total number of service tokens created by a particular auth method"})]})})]}),"\n",(0,r.jsx)(t.p,{children:"OpenBao organizes the token count by cluster, namespace, and authentication\nmethod."}),"\n",(0,r.jsx)(t.h3,{id:"vault-token-count-by_policy",children:"vault.token.count.by_policy"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"Total number of service tokens with a particular policy attached"})]})})]}),"\n",(0,r.jsx)(t.p,{children:"OpenBao organizes the token count by cluster, namespace, and policy. Tokens with\nmore than one policy attached appear in the gauge for each associated policy."}),"\n",(0,r.jsx)(t.h3,{id:"vault-token-count-by_ttl",children:"vault.token.count.by_ttl"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"gauge"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"Total number of service tokens assigned a particular time to live (TTL)"})]})})]}),"\n",(0,r.jsx)(t.p,{children:"OpenBao organizes the token count by cluster, namespace, and the TTL\nrange assigned at creation."}),"\n",(0,r.jsx)(t.h3,{id:"vault-token-create_root",children:"vault.token.create_root"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"counter"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"Number of root tokens created"})]})})]}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"vault.token.create_root"})," counts the total number of root tokens created\nover time, not the number of root tokens currently in use. As a result, the\nvalue of ",(0,r.jsx)(t.code,{children:"vault.token.create_root"})," does not decrease when a root token is\nrevoked."]}),"\n",(0,r.jsx)(t.h3,{id:"vault-token-create",children:"vault.token.create"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to create a token in OpenBao"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-token-createaccessor",children:"vault.token.createAccessor"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to create a token accessor in OpenBao"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-token-creation",children:"vault.token.creation"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"counter"}),(0,r.jsx)(t.td,{children:"number"}),(0,r.jsx)(t.td,{children:"Number of service or batch tokens created"})]})})]}),"\n",(0,r.jsx)(t.p,{children:"OpenBao organizes the creation count by cluster, namespace, authentication method,\nmount point, time to live (TTL), and token type."}),"\n",(0,r.jsx)(t.h3,{id:"vault-token-lookup",children:"vault.token.lookup"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to look up a token in OpenBao"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-token-revoke_tree",children:"vault.token.revoke-tree"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to fully revoke a token tree in OpenBao"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-token-revoke",children:"vault.token.revoke"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to revoke a token in OpenBao"})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"vault-token-store",children:"vault.token.store"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Metric type"}),(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"summary"}),(0,r.jsx)(t.td,{children:"ms"}),(0,r.jsx)(t.td,{children:"Time required to store an updated token entry without writing to the secondary index"})]})})]})]})}function o(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,t,i)=>{i.d(t,{R:()=>s,x:()=>d});var r=i(96540);const n={},l=r.createContext(n);function s(e){const t=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),r.createElement(l.Provider,{value:t},e.children)}}}]);