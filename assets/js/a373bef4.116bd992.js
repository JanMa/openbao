"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8716],{65256:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var i=t(74848),s=t(28453);const r={sidebar_label:"Version compatibility",description:"Guidelines for running different versions of Agent and Server"},o="Running different versions of agent and server",a={id:"agent-and-proxy/agent/versions",title:"Running different versions of agent and server",description:"Guidelines for running different versions of Agent and Server",source:"@site/content/docs/agent-and-proxy/agent/versions.mdx",sourceDirName:"agent-and-proxy/agent",slug:"/agent-and-proxy/agent/versions",permalink:"/docs/agent-and-proxy/agent/versions",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/docs/agent-and-proxy/agent/versions.mdx",tags:[],version:"current",frontMatter:{sidebar_label:"Version compatibility",description:"Guidelines for running different versions of Agent and Server"},sidebar:"docs",previous:{title:"Windows service",permalink:"/docs/agent-and-proxy/agent/winsvc"},next:{title:"Overview",permalink:"/docs/secrets/"}},l={},d=[{value:"Older version of agent than server",id:"older-version-of-agent-than-server",level:2},{value:"Newer version of agent than server",id:"newer-version-of-agent-than-server",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"running-different-versions-of-agent-and-server",children:"Running different versions of agent and server"}),"\n",(0,i.jsx)(n.p,{children:"There is no requirement to run identical versions of OpenBao Agent and OpenBao Server.\nIt is safe to run different versions, however you may not be able to take advantage of all the newest features in OpenBao if you do not upgrade to the most recent versions of Agent and Server. We recognize that this isn\u2019t always possible, so we do support version mismatch as best as possible."}),"\n",(0,i.jsx)(n.p,{children:"Agent will write a note to its logs when it detects a mismatch between Agent and Server.  This is purely informative, intended to assist with debugging in case the mismatch is given rise to problems, e.g. because a newer Agent version is trying to make use of functionality that doesn't exist in the Server version it's talking to.  If Agent is behaving acceptably, the message may be ignored."}),"\n",(0,i.jsxs)(n.p,{children:["This document describes the common cases.  There may be occasional exceptions, which if intentional will be called out in the CHANGELOG in a ",(0,i.jsx)(n.code,{children:"CHANGES"})," section.  If unintentional/undocumented these should be treated as bugs and reported."]}),"\n",(0,i.jsx)(n.h2,{id:"older-version-of-agent-than-server",children:"Older version of agent than server"}),"\n",(0,i.jsx)(n.p,{children:"We do not anticipate any problems stemming from continuing to run an older Agent version after the server nodes are upgraded to a later version.  Existing deployments using Agent should not be impacted, as we don't generally make backwards-incompatible changes to OpenBao Server."}),"\n",(0,i.jsx)(n.p,{children:"Auto-auth:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"new auth methods that have been introduced since Agent was built will be unavailable"}),"\n",(0,i.jsx)(n.li,{children:"existing auth methods should continue to function normally"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Proxy:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"since Agent simply mirrors the incoming requests, even if an incoming request uses an endpoint that didn't exist when that version of Agent was compiled, that won't impede Agent's ability to proxy the request"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Templating:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"the templating language features that interact with the OpenBao server use stable OpenBao APIs to retrieve and renew secrets"}),"\n",(0,i.jsx)(n.li,{children:"even if new secret engine types are introduced in newer OpenBao releases, these should not require an Agent upgrade to access via templates"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"newer-version-of-agent-than-server",children:"Newer version of agent than server"}),"\n",(0,i.jsx)(n.p,{children:"It is possible that an Agent could depend on features that don\u2019t exist in older Server versions."}),"\n",(0,i.jsx)(n.p,{children:"Auto-auth:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Agent may claim to support newer auth methods that have been introduced since Server was built, but they won't work due to Server not supporting them"}),"\n",(0,i.jsxs)(n.li,{children:["Agent may make use of new functionality for existing auth methods that isn't available in an older Server you're using","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Generally we will try to make such a change be opt-in, or to gracefully degrade when connecting to an older Server instance, unless there's a very good reason (such as a serious security flaw being patched)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Proxy:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"since Agent simply mirrors the incoming requests, it is unlikely that incompatibilities would surface in proxying, but new functionality may not be available"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Templating:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"we don't anticipate a scenario where changes to Agent's templating itself gives rise to an incompatibility with older OpenBao Servers, though of course with any Agent version it's possible to write templates that issue requests which make use of functionality not yet present in the upstream OpenBao server, e.g. {{ with secret \"secret/my-secret?some-new-option\" }}"}),"\n",(0,i.jsx)(n.li,{children:"we would not deliberately make a change to templating that breaks existing deployments"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var i=t(96540);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);