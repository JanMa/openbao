"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1134],{11912:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>p});var s=t(74848),o=t(28453);const r={layout:"docs",page_title:"Kubernetes - OpenBao Proxy Persistent Cache",description:"Kubernetes Persistent Cache for OpenBao Proxy Caching"},c="OpenBao proxy kubernetes persistent cache",i={id:"agent-and-proxy/proxy/caching/persistent-caches/kubernetes",title:"OpenBao proxy kubernetes persistent cache",description:"Kubernetes Persistent Cache for OpenBao Proxy Caching",source:"@site/content/docs/agent-and-proxy/proxy/caching/persistent-caches/kubernetes.mdx",sourceDirName:"agent-and-proxy/proxy/caching/persistent-caches",slug:"/agent-and-proxy/proxy/caching/persistent-caches/kubernetes",permalink:"/openbao/docs/agent-and-proxy/proxy/caching/persistent-caches/kubernetes",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/docs/agent-and-proxy/proxy/caching/persistent-caches/kubernetes.mdx",tags:[],version:"current",frontMatter:{layout:"docs",page_title:"Kubernetes - OpenBao Proxy Persistent Cache",description:"Kubernetes Persistent Cache for OpenBao Proxy Caching"},sidebar:"docs",previous:{title:"OpenBao proxy persistent caching",permalink:"/openbao/docs/agent-and-proxy/proxy/caching/persistent-caches/"},next:{title:"Running different versions of proxy and server",permalink:"/openbao/docs/agent-and-proxy/proxy/versions"}},a={},p=[{value:"Configuration",id:"configuration",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"openbao-proxy-kubernetes-persistent-cache",children:"OpenBao proxy kubernetes persistent cache"}),"\n",(0,s.jsxs)(n.p,{children:["When ",(0,s.jsx)(n.code,{children:"kubernetes"})," is configured for the persistent cache type, OpenBao Proxy will optimize the\npersistent cache specifically for Kubernetes. This type of persistent cache requires a Kubernetes\nservice account token. The service account token is used during encryption and decryption of the\npersistent cache as an additional integrity check."]}),"\n",(0,s.jsx)(n.p,{children:"The OpenBao Proxy persistent cache file in Kubernetes should only be used for handing off OpenBao tokens\nand leases between initialization and sidecar OpenBao Proxy containers. This cache file should be shared\nusing a memory volume between the OpenBao Proxy containers."}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"service_account_token_file"})," ",(0,s.jsx)(n.code,{children:"(string: optional)"})," - When type is set to ",(0,s.jsx)(n.code,{children:"kubernetes"}),",\nthis configures the path on disk where the Kubernetes service account token can be found.\nDefaults to ",(0,s.jsx)(n.code,{children:"/var/run/secrets/kubernetes.io/serviceaccount/token"}),"."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var s=t(96540);const o={},r=s.createContext(o);function c(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);