"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9480],{35841:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var s=t(74848),r=t(28453);const o={sidebar_label:"Cubbyhole",description:"The cubbyhole secrets engine can store arbitrary secrets scoped to a single token."},c="Cubbyhole secrets engine",i={id:"secrets/cubbyhole",title:"Cubbyhole secrets engine",description:"The cubbyhole secrets engine can store arbitrary secrets scoped to a single token.",source:"@site/content/docs/secrets/cubbyhole.mdx",sourceDirName:"secrets",slug:"/secrets/cubbyhole",permalink:"/docs/secrets/cubbyhole",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/docs/secrets/cubbyhole.mdx",tags:[],version:"current",frontMatter:{sidebar_label:"Cubbyhole",description:"The cubbyhole secrets engine can store arbitrary secrets scoped to a single token."},sidebar:"docs",previous:{title:"Overview",permalink:"/docs/secrets/"},next:{title:"Overview",permalink:"/docs/secrets/databases/"}},a={},l=[{value:"Setup",id:"setup",level:2},{value:"Usage",id:"usage",level:2},{value:"Tutorial",id:"tutorial",level:2},{value:"API",id:"api",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"cubbyhole-secrets-engine",children:"Cubbyhole secrets engine"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"cubbyhole"})," secrets engine is used to store arbitrary secrets within the\nconfigured physical storage for OpenBao namespaced to a token. In ",(0,s.jsx)(n.code,{children:"cubbyhole"}),",\npaths are scoped per token. No token can access another token's cubbyhole. When\nthe token expires, its cubbyhole is destroyed."]}),"\n",(0,s.jsxs)(n.p,{children:["Also unlike the ",(0,s.jsx)(n.code,{children:"kv"})," secrets engine, because the cubbyhole's lifetime is\nlinked to that of an authentication token, there is no concept of a TTL or\nrefresh interval for values contained in the token's cubbyhole."]}),"\n",(0,s.jsxs)(n.p,{children:["Writing to a key in the ",(0,s.jsx)(n.code,{children:"cubbyhole"})," secrets engine will completely replace the\nold value."]}),"\n",(0,s.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,s.jsx)(n.p,{children:"Most secrets engines must be configured in advance before they can perform their\nfunctions. These steps are usually completed by an operator or configuration\nmanagement tool."}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"cubbyhole"})," secrets engine is enabled by default. It cannot be disabled,\nmoved, or enabled multiple times."]}),"\n",(0,s.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsxs)(n.p,{children:["After the secrets engine is configured and a user/machine has an OpenBao token with\nthe proper permission, it can generate credentials. The ",(0,s.jsx)(n.code,{children:"cubbyhole"})," secrets\nengine allows for writing keys with arbitrary values."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Write arbitrary data:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"$ bao write cubbyhole/my-secret my-value=s3cr3t\nSuccess! Data written to: cubbyhole/my-secret\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Read arbitrary data:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"$ bao read cubbyhole/my-secret\nKey         Value\n---         -----\nmy-value    s3cr3t\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"tutorial",children:"Tutorial"}),"\n",(0,s.jsxs)(n.p,{children:["Refer to the ",(0,s.jsx)(n.a,{href:"/tutorials/secrets-management/cubbyhole-response-wrapping",children:"Cubbyhole Response Wrapping"}),"\ntutorial to learn how to securely distribute the initial token to the trusted entity."]}),"\n",(0,s.jsx)(n.h2,{id:"api",children:"API"}),"\n",(0,s.jsxs)(n.p,{children:["The Cubbyhole secrets engine has a full HTTP API. Please see the\n",(0,s.jsx)(n.a,{href:"/api-docs/secret/cubbyhole",children:"Cubbyhole secrets engine API"})," for more\ndetails."]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>i});var s=t(96540);const r={},o=s.createContext(r);function c(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);