"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7964],{39563:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>r,default:()=>o,frontMatter:()=>d,metadata:()=>l,toc:()=>c});var i=n(74848),t=n(28453);const d={layout:"api",page_title:"/sys/config/auditing - HTTP API",description:"The `/sys/config/auditing` endpoint is used to configure auditing settings."},r="/sys/config/auditing",l={id:"system/config-auditing",title:"/sys/config/auditing",description:"The `/sys/config/auditing` endpoint is used to configure auditing settings.",source:"@site/content/api-docs/system/config-auditing.mdx",sourceDirName:"system",slug:"/system/config-auditing",permalink:"/openbao/api-docs/system/config-auditing",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/api-docs/system/config-auditing.mdx",tags:[],version:"current",frontMatter:{layout:"api",page_title:"/sys/config/auditing - HTTP API",description:"The `/sys/config/auditing` endpoint is used to configure auditing settings."},sidebar:"apiSidebar",previous:{title:"/sys/capabilities",permalink:"/openbao/api-docs/system/capabilities"},next:{title:"/sys/config/cors",permalink:"/openbao/api-docs/system/config-cors"}},a={},c=[{value:"Read all audited request headers",id:"read-all-audited-request-headers",level:2},{value:"Sample request",id:"sample-request",level:3},{value:"Sample response",id:"sample-response",level:3},{value:"Read single audit request header",id:"read-single-audit-request-header",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Sample request",id:"sample-request-1",level:3},{value:"Sample response",id:"sample-response-1",level:3},{value:"Create/Update audit request header",id:"createupdate-audit-request-header",level:2},{value:"Parameters",id:"parameters-1",level:3},{value:"Sample payload",id:"sample-payload",level:3},{value:"Sample request",id:"sample-request-2",level:3},{value:"Delete audit request header",id:"delete-audit-request-header",level:2},{value:"Sample request",id:"sample-request-3",level:3}];function h(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h1,{id:"sysconfigauditing",children:(0,i.jsx)(s.code,{children:"/sys/config/auditing"})}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"/sys/config/auditing"})," endpoint is used to configure auditing settings."]}),"\n",(0,i.jsx)(s.h2,{id:"read-all-audited-request-headers",children:"Read all audited request headers"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint lists the request headers that are configured to be audited."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsxs)(s.strong,{children:[(0,i.jsx)(s.code,{children:"sudo"})," required"]})," \u2013\xa0This endpoint requires ",(0,i.jsx)(s.code,{children:"sudo"})," capability in addition to\nany path-specific capabilities."]}),"\n"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"GET"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/sys/config/auditing/request-headers"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"sample-request",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    http://127.0.0.1:8200/v1/sys/config/auditing/request-headers\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response",children:"Sample response"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "headers": {\n    "X-Forwarded-For": {\n      "hmac": true\n    }\n  }\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"read-single-audit-request-header",children:"Read single audit request header"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint lists the information for the given request header."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsxs)(s.strong,{children:[(0,i.jsx)(s.code,{children:"sudo"})," required"]})," \u2013\xa0This endpoint requires ",(0,i.jsx)(s.code,{children:"sudo"})," capability in addition to\nany path-specific capabilities."]}),"\n"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"GET"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/sys/config/auditing/request-headers/:name"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"name"})," ",(0,i.jsx)(s.code,{children:"(string: <required>)"})," \u2013 Specifies the name of the request header to\nquery. This is specified as part of the URL."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-1",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    http://127.0.0.1:8200/v1/sys/config/auditing/request-headers/my-header\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-response-1",children:"Sample response"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "X-Forwarded-For": {\n    "hmac": true\n  }\n}\n'})}),"\n",(0,i.jsx)(s.h2,{id:"createupdate-audit-request-header",children:"Create/Update audit request header"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint enables auditing of a header."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsxs)(s.strong,{children:[(0,i.jsx)(s.code,{children:"sudo"})," required"]})," \u2013\xa0This endpoint requires ",(0,i.jsx)(s.code,{children:"sudo"})," capability in addition to\nany path-specific capabilities."]}),"\n"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"POST"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/sys/config/auditing/request-headers/:name"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"hmac"})," ",(0,i.jsx)(s.code,{children:"(bool: false)"})," \u2013\xa0Specifies if this header's value should be HMAC'ed in\nthe audit logs."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"sample-payload",children:"Sample payload"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'{\n  "hmac": true\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-2",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/sys/config/auditing/request-headers/my-header\n'})}),"\n",(0,i.jsx)(s.h2,{id:"delete-audit-request-header",children:"Delete audit request header"}),"\n",(0,i.jsx)(s.p,{children:"This endpoint disables auditing of the given request header."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsxs)(s.strong,{children:[(0,i.jsx)(s.code,{children:"sudo"})," required"]})," \u2013\xa0This endpoint requires ",(0,i.jsx)(s.code,{children:"sudo"})," capability in addition to\nany path-specific capabilities."]}),"\n"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,i.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"DELETE"})}),(0,i.jsx)(s.td,{style:{textAlign:"left"},children:(0,i.jsx)(s.code,{children:"/sys/config/auditing/request-headers/:name"})})]})})]}),"\n",(0,i.jsx)(s.h3,{id:"sample-request-3",children:"Sample request"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request DELETE \\\n    http://127.0.0.1:8200/v1/sys/config/auditing/request-headers/my-header\n'})})]})}function o(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>l});var i=n(96540);const t={},d=i.createContext(t);function r(e){const s=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(d.Provider,{value:s},e.children)}}}]);