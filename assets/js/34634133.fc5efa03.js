"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4372],{59771:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>a});var r=s(74848),l=s(28453);const t={sidebar_label:"Kerberos",description:"This is the API documentation for the OpenBao Kerberos auth method plugin."},i="Kerberos auth method (API)",o={id:"auth/kerberos",title:"Kerberos auth method (API)",description:"This is the API documentation for the OpenBao Kerberos auth method plugin.",source:"@site/content/api-docs/auth/kerberos.mdx",sourceDirName:"auth",slug:"/auth/kerberos",permalink:"/openbao/api-docs/auth/kerberos",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/api-docs/auth/kerberos.mdx",tags:[],version:"current",frontMatter:{sidebar_label:"Kerberos",description:"This is the API documentation for the OpenBao Kerberos auth method plugin."},sidebar:"api",previous:{title:"JWT/OIDC",permalink:"/openbao/api-docs/auth/jwt"},next:{title:"Kubernetes auth method (API)",permalink:"/openbao/api-docs/auth/kubernetes"}},d={},a=[{value:"Configure OpenBao Kerberos",id:"configure-openbao-kerberos",level:2},{value:"Sample request",id:"sample-request",level:3},{value:"Sample payload",id:"sample-payload",level:3},{value:"Read OpenBao Kerberos",id:"read-openbao-kerberos",level:2},{value:"Sample request",id:"sample-request-1",level:3},{value:"Sample response",id:"sample-response",level:3},{value:"Configure Kerberos LDAP",id:"configure-kerberos-ldap",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Sample request",id:"sample-request-2",level:3},{value:"Sample payload",id:"sample-payload-1",level:3},{value:"Read Kerberos LDAP configuration",id:"read-kerberos-ldap-configuration",level:2},{value:"Sample request",id:"sample-request-3",level:3},{value:"Sample response",id:"sample-response-1",level:3},{value:"List Kerberos LDAP groups",id:"list-kerberos-ldap-groups",level:2},{value:"Sample request",id:"sample-request-4",level:3},{value:"Sample response",id:"sample-response-2",level:3},{value:"Read Kerberos LDAP group",id:"read-kerberos-ldap-group",level:2},{value:"Parameters",id:"parameters-1",level:3},{value:"Sample request",id:"sample-request-5",level:3},{value:"Sample response",id:"sample-response-3",level:3},{value:"Create/Update Kerberos LDAP group",id:"createupdate-kerberos-ldap-group",level:2},{value:"Parameters",id:"parameters-2",level:3},{value:"Sample payload",id:"sample-payload-2",level:3},{value:"Sample request",id:"sample-request-6",level:3},{value:"Delete Kerberos LDAP group",id:"delete-kerberos-ldap-group",level:2},{value:"Parameters",id:"parameters-3",level:3},{value:"Sample request",id:"sample-request-7",level:3},{value:"Login with Kerberos",id:"login-with-kerberos",level:2},{value:"Sample request",id:"sample-request-8",level:3}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"kerberos-auth-method-api",children:"Kerberos auth method (API)"}),"\n",(0,r.jsxs)(n.p,{children:["~> ",(0,r.jsx)(n.strong,{children:"Note"}),": This engine can use external X.509 certificates as part of TLS or signature validation.\nVerifying signatures against X.509 certificates that use SHA-1 is deprecated and is no longer\nusable without a workaround. See the\n",(0,r.jsx)(n.a,{href:"/docs/deprecation/faq#q-what-is-the-impact-of-removing-support-for-x-509-certificates-with-signatures-that-use-sha-1",children:"deprecation FAQ"}),"\nfor more information."]}),"\n",(0,r.jsxs)(n.p,{children:["This is the API documentation for the OpenBao Kerberos auth method plugin. To\nlearn more about the usage and operation, see the\n",(0,r.jsx)(n.a,{href:"/docs/auth/kerberos",children:"OpenBao Kerberos auth method"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["This documentation assumes the Kerberos auth method is mounted at the\n",(0,r.jsx)(n.code,{children:"auth/kerberos"})," path in OpenBao. Since it is possible to enable auth methods at\nany location, please update your API calls accordingly."]}),"\n",(0,r.jsx)(n.p,{children:"The Kerberos auth method validates both Kerberos and LDAP authorization,\nso both configurations are required."}),"\n",(0,r.jsx)(n.h2,{id:"configure-openbao-kerberos",children:"Configure OpenBao Kerberos"}),"\n",(0,r.jsx)(n.p,{children:"This endpoint configures the keytab and service account to be used by OpenBao\nfor verifying inbound SPNEGO tokens."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Method"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"POST"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"/auth/kerberos/config"})})]})})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"keytab"})," ",(0,r.jsx)(n.code,{children:"(string: <required>)"})," \u2013 A base 64 representation of the contents\nof the Kerberos keytab that will be used for verifying inbound SPNEGO tokens.\nIt should contain an entry matching the service account given. This can be\ncreated through the following command: ",(0,r.jsx)(n.code,{children:"$ base64 openbao.keytab > openbao.keytab.base64"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"service_account"})," ",(0,r.jsx)(n.code,{children:"(string: <required>)"})," \u2013 The service account associated\nwith both the keytab entry and an LDAP service account created for OpenBao. Ex.:\n",(0,r.jsx)(n.code,{children:'"openbao_svc"'}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"remove_instance_name"})," - Removes any instance names from a Kerberos service\nprincipal name when parsing the keytab file. For example when this is set to true,\nif a keytab has the service principal name ",(0,r.jsx)(n.code,{children:"foo/localhost@example.com"}),", OpenBao\nwill strip the service principal name to just be ",(0,r.jsx)(n.code,{children:"foo@example.com"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"add_group_aliases"})," - When set to true, OpenBao will add any LDAP groups found for\nthe user as group aliases."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sample-request",children:"Sample request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/auth/kerberos/config\n'})}),"\n",(0,r.jsx)(n.h3,{id:"sample-payload",children:"Sample payload"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "add_group_aliases": false,\n  "keytab": "BQIAAAA6AAEACk1BVFJJWC5MQU4ACXZhdWx0X3N2YwAAAAFdzZSjAgAXABDwhEyRR9nRqkpP8KTn2A83AAAAAg==",\n  "remove_instance_name": false,\n  "service_account": "openbao_svc"\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"read-openbao-kerberos",children:"Read OpenBao Kerberos"}),"\n",(0,r.jsx)(n.p,{children:"This endpoint retrieves the service account for the Kerberos auth method.\nThe keytab is not returned because it is sensitive information."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Method"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"GET"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"/auth/kerberos/config"})})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"sample-request-1",children:"Sample request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    http://127.0.0.1:8200/v1/auth/kerberos/config\n'})}),"\n",(0,r.jsx)(n.h3,{id:"sample-response",children:"Sample response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "auth": null,\n  "warnings": null,\n  "wrap_info": null,\n  "data": {\n    "add_group_aliases": false,\n    "remove_instance_name": false,\n    "service_account": "openbao_svc"\n  },\n  "lease_duration": 0,\n  "renewable": false,\n  "lease_id": ""\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"configure-kerberos-ldap",children:"Configure Kerberos LDAP"}),"\n",(0,r.jsx)(n.p,{children:"This endpoint configures LDAP in the Kerberos auth method."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Method"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"POST"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"/auth/kerberos/config/ldap"})})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"url"})," ",(0,r.jsx)(n.code,{children:"(string: <required>)"})," \u2013 The LDAP server to connect to. Examples:\n",(0,r.jsx)(n.code,{children:"ldap://ldap.myorg.com"}),", ",(0,r.jsx)(n.code,{children:"ldaps://ldap.myorg.com:636"}),". Multiple URLs can be\nspecified with commas, e.g. ",(0,r.jsx)(n.code,{children:"ldap://ldap.myorg.com,ldap://ldap2.myorg.com"}),";\nthese will be tried in-order."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"case_sensitive_names"})," ",(0,r.jsx)(n.code,{children:"(bool: false)"})," \u2013 If set, user and group names\nassigned to policies within the backend will be case sensitive. Otherwise,\nnames will be normalized to lower case. Case will still be preserved when\nsending the username to the LDAP server at login time; this is only for\nmatching local user/group definitions."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"starttls"})," ",(0,r.jsx)(n.code,{children:"(bool: false)"})," \u2013 If true, issues a ",(0,r.jsx)(n.code,{children:"StartTLS"})," command after\nestablishing an unencrypted connection."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tls_min_version"})," ",(0,r.jsx)(n.code,{children:"(string: tls12)"})," \u2013 Minimum TLS version to use. Accepted\nvalues are ",(0,r.jsx)(n.code,{children:"tls10"}),", ",(0,r.jsx)(n.code,{children:"tls11"}),", ",(0,r.jsx)(n.code,{children:"tls12"})," or ",(0,r.jsx)(n.code,{children:"tls13"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tls_max_version"})," ",(0,r.jsx)(n.code,{children:"(string: tls12)"})," \u2013 Maximum TLS version to use. Accepted\nvalues are ",(0,r.jsx)(n.code,{children:"tls10"}),", ",(0,r.jsx)(n.code,{children:"tls11"}),", ",(0,r.jsx)(n.code,{children:"tls12"})," or ",(0,r.jsx)(n.code,{children:"tls13"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"insecure_tls"})," ",(0,r.jsx)(n.code,{children:"(bool: false)"})," \u2013 If true, skips LDAP server SSL certificate\nverification - insecure, use with caution!"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"certificate"})," ",(0,r.jsx)(n.code,{children:'(string: "")'})," \u2013 CA certificate to use when verifying LDAP server\ncertificate, must be x509 PEM encoded."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"binddn"})," ",(0,r.jsx)(n.code,{children:'(string: "")'})," \u2013 Distinguished name of object to bind when performing\nuser search. Example: ",(0,r.jsx)(n.code,{children:"cn=openbao,ou=Users,dc=example,dc=com"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"bindpass"})," ",(0,r.jsx)(n.code,{children:'(string: "")'})," \u2013 Password to use along with ",(0,r.jsx)(n.code,{children:"binddn"})," when performing\nuser search."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"userdn"})," ",(0,r.jsx)(n.code,{children:'(string: "")'})," \u2013 Base DN under which to perform user search. Example:\n",(0,r.jsx)(n.code,{children:"ou=Users,dc=example,dc=com"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"userattr"})," ",(0,r.jsx)(n.code,{children:'(string: "")'})," \u2013 Attribute on user attribute object matching the\nusername passed when authenticating. Examples: ",(0,r.jsx)(n.code,{children:"sAMAccountName"}),", ",(0,r.jsx)(n.code,{children:"cn"}),", ",(0,r.jsx)(n.code,{children:"uid"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"discoverdn"})," ",(0,r.jsx)(n.code,{children:"(bool: false)"})," \u2013 Use anonymous bind to discover the bind DN of a\nuser."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"deny_null_bind"})," ",(0,r.jsx)(n.code,{children:"(bool: true)"})," \u2013 This option prevents users from bypassing\nauthentication when providing an empty password."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"upndomain"})," ",(0,r.jsx)(n.code,{children:'(string: "")'})," \u2013 The ",(0,r.jsx)(n.em,{children:"userPrincipalDomain"})," used to construct the UPN\nstring for the authenticating user. The constructed UPN will appear as\n",(0,r.jsx)(n.code,{children:"[username]@UPNDomain"}),". Example: ",(0,r.jsx)(n.code,{children:"example.com"}),", which will cause openbao to bind\nas ",(0,r.jsx)(n.code,{children:"username@example.com"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"groupfilter"})," ",(0,r.jsx)(n.code,{children:'(string: "")'})," \u2013 Go template used when constructing the group\nmembership query. The template can access the following context variables:\n[",(0,r.jsx)(n.code,{children:"UserDN"}),", ",(0,r.jsx)(n.code,{children:"Username"}),"]. The default is\n",(0,r.jsx)(n.code,{children:"(|(memberUid={{.Username}})(member={{.UserDN}})(uniqueMember={{.UserDN}}))"}),",\nwhich is compatible with several common directory schemas. To support\nnested group resolution for Active Directory, instead use the following\nquery: ",(0,r.jsx)(n.code,{children:"(&(objectClass=group)(member:1.2.840.113556.1.4.1941:={{.UserDN}}))"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"groupdn"})," ",(0,r.jsx)(n.code,{children:'(string: "")'})," \u2013 LDAP search base to use for group membership\nsearch. This can be the root containing either groups or users. Example:\n",(0,r.jsx)(n.code,{children:"ou=Groups,dc=example,dc=com"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"groupattr"})," ",(0,r.jsx)(n.code,{children:'(string: "")'})," \u2013 LDAP attribute to follow on objects returned by\n",(0,r.jsx)(n.code,{children:"groupfilter"})," in order to enumerate user group membership. Examples: for\ngroupfilter queries returning ",(0,r.jsx)(n.em,{children:"group"})," objects, use: ",(0,r.jsx)(n.code,{children:"cn"}),". For queries\nreturning ",(0,r.jsx)(n.em,{children:"user"})," objects, use: ",(0,r.jsx)(n.code,{children:"memberOf"}),". The default is ",(0,r.jsx)(n.code,{children:"cn"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"token_ttl"})," ",(0,r.jsx)(n.code,{children:'(integer: 0 or string: "")'})," - The incremental lifetime for\ngenerated tokens. This current value of this will be referenced at renewal\ntime."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"token_max_ttl"})," ",(0,r.jsx)(n.code,{children:'(integer: 0 or string: "")'})," - The maximum lifetime for\ngenerated tokens. This current value of this will be referenced at renewal\ntime."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"token_policies"})," ",(0,r.jsx)(n.code,{children:'(array: [] or comma-delimited string: "")'})," - List of\ntoken policies to encode onto generated tokens. Depending on the auth method, this\nlist may be supplemented by user/group/other values."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"policies"})," ",(0,r.jsx)(n.code,{children:'(array: [] or comma-delimited string: "")'})," - DEPRECATED: Please\nuse the ",(0,r.jsx)(n.code,{children:"token_policies"})," parameter instead. List of token policies to encode\nonto generated tokens. Depending on the auth method, this list may be\nsupplemented by user/group/other values."]}),"\n"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"token_bound_cidrs"})," ",(0,r.jsx)(n.code,{children:'(array: [] or comma-delimited string: "")'})," - List of\nCIDR blocks; if set, specifies blocks of IP addresses which can authenticate\nsuccessfully, and ties the resulting token to these blocks as well."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"token_explicit_max_ttl"})," ",(0,r.jsx)(n.code,{children:'(integer: 0 or string: "")'})," - If set, will encode\nan ",(0,r.jsx)(n.a,{href:"/docs/concepts/tokens#token-time-to-live-periodic-tokens-and-explicit-max-ttls",children:"explicit max\nTTL"}),"\nonto the token. This is a hard cap even if ",(0,r.jsx)(n.code,{children:"token_ttl"})," and ",(0,r.jsx)(n.code,{children:"token_max_ttl"}),"\nwould otherwise allow a renewal."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"token_no_default_policy"})," ",(0,r.jsx)(n.code,{children:"(bool: false)"})," - If set, the ",(0,r.jsx)(n.code,{children:"default"})," policy will\nnot be set on generated tokens; otherwise it will be added to the policies set\nin ",(0,r.jsx)(n.code,{children:"token_policies"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"token_num_uses"})," ",(0,r.jsx)(n.code,{children:"(integer: 0)"})," - The maximum number of times a generated\ntoken may be used (within its lifetime); 0 means unlimited.\nIf you require the token to have the ability to create child tokens,\nyou will need to set this value to 0."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"token_period"})," ",(0,r.jsx)(n.code,{children:'(integer: 0 or string: "")'})," - The maximum allowed ",(0,r.jsx)(n.a,{href:"/docs/concepts/tokens#token-time-to-live-periodic-tokens-and-explicit-max-ttls",children:"period"})," value when a periodic token is requested from this role."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"token_type"})," ",(0,r.jsx)(n.code,{children:'(string: "")'})," - The type of token that should be generated. Can\nbe ",(0,r.jsx)(n.code,{children:"service"}),", ",(0,r.jsx)(n.code,{children:"batch"}),", or ",(0,r.jsx)(n.code,{children:"default"})," to use the mount's tuned default (which\nunless changed will be ",(0,r.jsx)(n.code,{children:"service"})," tokens). For token store roles, there are two\nadditional possibilities: ",(0,r.jsx)(n.code,{children:"default-service"})," and ",(0,r.jsx)(n.code,{children:"default-batch"})," which specify\nthe type to return unless the client requests a different type at generation\ntime."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sample-request-2",children:"Sample request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/auth/kerberos/config/ldap\n'})}),"\n",(0,r.jsx)(n.h3,{id:"sample-payload-1",children:"Sample payload"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "binddn": "cn=openbao,ou=Users,dc=example,dc=com",\n  "deny_null_bind": true,\n  "discoverdn": false,\n  "groupattr": "cn",\n  "groupdn": "ou=Groups,dc=example,dc=com",\n  "groupfilter": "(\\u0026(objectClass=group)(member:1.2.840.113556.1.4.1941:={{.UserDN}}))",\n  "insecure_tls": false,\n  "starttls": false,\n  "tls_max_version": "tls12",\n  "tls_min_version": "tls12",\n  "url": "ldaps://ldap.myorg.com:636",\n  "userattr": "samaccountname",\n  "userdn": "ou=Users,dc=example,dc=com"\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"read-kerberos-ldap-configuration",children:"Read Kerberos LDAP configuration"}),"\n",(0,r.jsx)(n.p,{children:"This endpoint retrieves the LDAP configuration for the Kerberos auth method."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Method"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"GET"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"/auth/kerberos/config/ldap"})})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"sample-request-3",children:"Sample request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    http://127.0.0.1:8200/v1/auth/kerberos/config/ldap\n'})}),"\n",(0,r.jsx)(n.h3,{id:"sample-response-1",children:"Sample response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "auth": null,\n  "warnings": null,\n  "wrap_info": null,\n  "data": {\n    "binddn": "cn=openbao,ou=Users,dc=example,dc=com",\n    "bindpass": "",\n    "certificate": "",\n    "deny_null_bind": true,\n    "discoverdn": false,\n    "groupattr": "cn",\n    "groupdn": "ou=Groups,dc=example,dc=com",\n    "groupfilter": "(\\u0026(objectClass=group)(member:1.2.840.113556.1.4.1941:={{.UserDN}}))",\n    "insecure_tls": false,\n    "starttls": false,\n    "tls_max_version": "tls12",\n    "tls_min_version": "tls12",\n    "upndomain": "",\n    "url": "ldaps://ldap.myorg.com:636",\n    "userattr": "samaccountname",\n    "userdn": "ou=Users,dc=example,dc=com"\n  },\n  "lease_duration": 0,\n  "renewable": false,\n  "lease_id": ""\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"list-kerberos-ldap-groups",children:"List Kerberos LDAP groups"}),"\n",(0,r.jsx)(n.p,{children:"This endpoint returns a list of existing LDAP groups in the Kerberos auth method."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Method"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"LIST"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"/auth/kerberos/groups"})})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"sample-request-4",children:"Sample request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request LIST \\\n    http://127.0.0.1:8200/v1/auth/kerberos/groups\n'})}),"\n",(0,r.jsx)(n.h3,{id:"sample-response-2",children:"Sample response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "auth": null,\n  "warnings": null,\n  "wrap_info": null,\n  "data": {\n    "keys": ["scientists", "engineers"]\n  },\n  "lease_duration": 0,\n  "renewable": false,\n  "lease_id": ""\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"read-kerberos-ldap-group",children:"Read Kerberos LDAP group"}),"\n",(0,r.jsx)(n.p,{children:"This endpoint returns the policies associated with a Kerberos LDAP group."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Method"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"GET"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"/auth/kerberos/groups/:name"})})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name"})," ",(0,r.jsx)(n.code,{children:"(string: <required>)"})," \u2013 The name of the LDAP group."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sample-request-5",children:"Sample request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    http://127.0.0.1:8200/v1/auth/kerberos/groups/admins\n'})}),"\n",(0,r.jsx)(n.h3,{id:"sample-response-3",children:"Sample response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "policies": ["admin", "default"]\n  },\n  "renewable": false,\n  "lease_id": "",\n  "lease_duration": 0,\n  "warnings": null\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"createupdate-kerberos-ldap-group",children:"Create/Update Kerberos LDAP group"}),"\n",(0,r.jsx)(n.p,{children:"This endpoint creates or updates LDAP group policies."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Method"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"POST"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"/auth/kerberos/groups/:name"})})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"parameters-2",children:"Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name"})," ",(0,r.jsx)(n.code,{children:"(string: <required>)"})," \u2013 The name of the LDAP group."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"policies"})," ",(0,r.jsx)(n.code,{children:'(string: "")'})," \u2013 Comma-separated list of policies associated to the\ngroup."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sample-payload-2",children:"Sample payload"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "policies": "admin,default"\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"sample-request-6",children:"Sample request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/auth/kerberos/groups/admins\n'})}),"\n",(0,r.jsx)(n.h2,{id:"delete-kerberos-ldap-group",children:"Delete Kerberos LDAP group"}),"\n",(0,r.jsx)(n.p,{children:"This endpoint deletes the LDAP group and policy association."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Method"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"DELETE"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"/auth/kerberos/groups/:name"})})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"parameters-3",children:"Parameters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name"})," ",(0,r.jsx)(n.code,{children:"(string: <required>)"})," \u2013 The name of the LDAP group."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sample-request-7",children:"Sample request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request DELETE \\\n    http://127.0.0.1:8200/v1/auth/kerberos/groups/admins\n'})}),"\n",(0,r.jsx)(n.h2,{id:"login-with-kerberos",children:"Login with Kerberos"}),"\n",(0,r.jsx)(n.p,{children:"This endpoint allows you to log in with a valid Kerberos SPNEGO\ntoken. This token is obtained by the client, marshalled, and\nconverted to base 64 using standard encoding."}),"\n",(0,r.jsx)(n.p,{children:"Example SPNEGO token (newlines added for readability):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"YIIFSwYGKwYBBQUCoIIFPzCCBTugDTALBgkqhkiG9xIBAgKiggUoBIIFJGCCBSAGCSq\nGSIb3EgECAgEAboIFDzCCBQugAwIBBaEDAgEOogcDBQAgAAAAo4IEB2GCBAMwggP/oA\nMCAQWhDBsKTUFUUklYLkxBTqIvMC2gAwIBA6EmMCQbBEhUVFAbHDdlZmNjZTg4MGVkM\ny5tYXRyaXgubGFuOjgyMDCjggO3MIIDs6ADAgEXoQMCAQKiggOlBIIDoXky+VDSMXqT\nZ8XqUiIfzX3+t1ROgO49WYQPoqW1EJLA6vOVtsLITTuDUw8WaLIexki07up3wiO7bKn\nunPFN3Y6VaKZfGoubVBFnLwrxqiEqytk19fiuc0bUJD5fNX+BUeHjePPmE73kRcuchC\nL5+WkbY0X37cH5uKwCWI6TxpuEc74+mvmGOdAOdisC31MO6EBnOpTlxvKOXzShVk5Xa\nrkkHjTJyjoUslgm8JVdj/uB/+x16k0bFVOuWybfeCkn4FY7OeIxypxDJgk6uHU+5jpy\nXsdXK4w5GG+TK5BI6LXW8ZH6NOhcTZnRyt1/S4Wihd6HKhL8lH6H+wPWAnN4Ym8jiSg\n7O0nIkp9su1l/umJWnLnyUdsC9ekKmCYS9MLrmaUREnKMFfrYOF283gWVmfuSWd832Q\n9PIE93vUVTfetw1OwbJXEbG7ex3BotXPJ8yaDUAz4Zv0a6zQlj6JutE7LF3JvuuQeot\nQnwPhrZTrmv7ZbmGO3GmkzbMzIwcTXCCKX8ocOo8GLmtEigAPK23FOW2Y0p1meYjF0U\nxPzU6MPxfQWiXTWflqabXug7uZh8u76rzSEEceosPxoBqMm6hSmGc85+0bzy/E7AGJM\n5ELa2Ny2KpyniPiYCap44GsFZbGM1FwJeh1bG3dJungIn7po4X2wlg00wZVlbHsBzhP\nHys0oxVzOQfrvx88G0fH80+vyzQiQAq4ZqmZqkO0zFSsdqG8ReJvpY0eGzN6/lGwcRl\neav7Vum/s5MalXhYUdOjB4K3A5yQArHbbLfeZlhb7d4vttzPNkmaZ9ZNTyW1GSuqDtd\n+YJ0g70aN82KQMWiK3cbJcx/1jcmaN5gjSDm0xk19G2eb8VlRpwLFAazOlpPGozPl0Y\nPD45h3Yv3AA5aMVXvEi+NvSYR3z9VXxk6A8wFJxV5NZxV2hYwmxt0S+TYXFeudXzT+W\nySoykcsxIU6rUevmJlEqZDyD3VcdnUOE9pxrIY/cqpdBBwatorF+jIK/ytcTBjvoM6c\nLL4g4n/isWMu8Xs6lSMxZzrC3Ewv9VYMzOEFxaHUXlyIC8GCN6t9DHZNzT91TC0u5Rj\nXuLqXENczg33dACvr+yhvin/0QNBQG+EXz/E4NiBBWqtTFa0BiTVTwyrKL5OyiLcIVe\nv4l8l9vyj/ABwDacr9ZGjhFbOShCTuFFWBPNnBwPqiRBV4y1gPP4abYBmeboLrUiqwZ\n81UrP2L8rCTEtYu9q3GmW/pIHqMIHnoAMCAReigd8EgdxwBViqyCyL0+J/k2bw0upNL\nh+4wzJcFBFC/wxX2aMvvIYdQv5nWwdNLMII3l/zQ0+eRdzpKfg1ZRT6x0D5278eQLto\n9r1CqKNW515u4kD5+pE8VOwZJMVe3FmduaH2gnTLAcoYXkBUE24hcr0ExSY6kTTBWPj\nU5dsmUsj3+qrN9JruEADqw99t/EWnN3iTsHh1rOQOd9jIJ1wCIkgvnLB8Rad+q5jguG\n8qQh1WDObTlNOnezDtiuLtRb03QDo8Q4Sm72IIcLDlffVvl7WAog5TpC8qM97+Wmv0C\nsWw\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Method"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"POST"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.code,{children:"/auth/kerberos/login"})})]})})]}),"\n",(0,r.jsx)(n.h3,{id:"sample-request-8",children:"Sample request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell-session",children:'$ curl \\\n    --header "Authorization: Negotiate YIIFSw...sWw" \\\n    --request POST \\\n    http://127.0.0.1:8200/v1/auth/kerberos/login\n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>o});var r=s(96540);const l={},t=r.createContext(l);function i(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:i(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);