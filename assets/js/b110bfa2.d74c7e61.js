"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9674],{15221:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>i,default:()=>o,frontMatter:()=>l,metadata:()=>d,toc:()=>c});var t=n(74848),r=n(28453);const l={description:"The `/sys/raw` endpoint is used to access the raw underlying store in OpenBao."},i="/sys/raw",d={id:"system/raw",title:"/sys/raw",description:"The `/sys/raw` endpoint is used to access the raw underlying store in OpenBao.",source:"@site/content/api-docs/system/raw.mdx",sourceDirName:"system",slug:"/system/raw",permalink:"/openbao/api-docs/system/raw",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/api-docs/system/raw.mdx",tags:[],version:"current",frontMatter:{description:"The `/sys/raw` endpoint is used to access the raw underlying store in OpenBao."},sidebar:"api",previous:{title:"/sys/quotas/rate-limit",permalink:"/openbao/api-docs/system/rate-limit-quotas"},next:{title:"/sys/rekey",permalink:"/openbao/api-docs/system/rekey"}},a={},c=[{value:"Read raw",id:"read-raw",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Sample request",id:"sample-request",level:3},{value:"Sample response",id:"sample-response",level:3},{value:"Create/Update raw",id:"createupdate-raw",level:2},{value:"Parameters",id:"parameters-1",level:3},{value:"Sample payload",id:"sample-payload",level:3},{value:"Sample request",id:"sample-request-1",level:3},{value:"List raw",id:"list-raw",level:2},{value:"Sample request",id:"sample-request-2",level:3},{value:"Sample response",id:"sample-response-1",level:3},{value:"Delete raw",id:"delete-raw",level:2},{value:"Parameters",id:"parameters-2",level:3},{value:"Sample request",id:"sample-request-3",level:3}];function h(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h1,{id:"sysraw",children:(0,t.jsx)(s.code,{children:"/sys/raw"})}),"\n",(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"/sys/raw"})," endpoint is used to access the raw underlying store in OpenBao."]}),"\n",(0,t.jsxs)(s.p,{children:["This endpoint is off by default. See the\n",(0,t.jsx)(s.a,{href:"/docs/configuration",children:"OpenBao configuration documentation"})," to\nenable."]}),"\n",(0,t.jsx)(s.h2,{id:"read-raw",children:"Read raw"}),"\n",(0,t.jsx)(s.p,{children:"This endpoint reads the value of the key at the given path. This is the raw path\nin the storage backend and not the logical path that is exposed via the mount\nsystem."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"GET"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"/sys/raw/:path"})})]})})]}),"\n",(0,t.jsx)(s.h3,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"path"})," ",(0,t.jsx)(s.code,{children:"(string: <required>)"})," \u2013\xa0Specifies the raw path in the storage backend.\nThis is specified as part of the URL."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"compressed"})," ",(0,t.jsx)(s.code,{children:"(bool: true)"})," - Attempt to decompress the value."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"encoding"})," ",(0,t.jsx)(s.code,{children:'(string: "")'}),' - Specifies the encoding of the returned data. Defaults to no encoding.\n"base64" returns the value encoded in base64.']}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"sample-request",children:"Sample request"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    http://127.0.0.1:8200/v1/sys/raw/secret/foo\n'})}),"\n",(0,t.jsx)(s.h3,{id:"sample-response",children:"Sample response"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:"{\n  \"value\": \"{'foo':'bar'}\"\n}\n"})}),"\n",(0,t.jsx)(s.h2,{id:"createupdate-raw",children:"Create/Update raw"}),"\n",(0,t.jsx)(s.p,{children:"This endpoint updates the value of the key at the given path. This is the raw\npath in the storage backend and not the logical path that is exposed via the\nmount system."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"POST"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"/sys/raw/:path"})})]})})]}),"\n",(0,t.jsx)(s.h3,{id:"parameters-1",children:"Parameters"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"path"})," ",(0,t.jsx)(s.code,{children:"(string: <required>)"})," \u2013\xa0Specifies the raw path in the storage backend.\nThis is specified as part of the URL."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"value"})," ",(0,t.jsx)(s.code,{children:"(string: <required>)"})," \u2013 Specifies the value of the key."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"compression_type"})," ",(0,t.jsx)(s.code,{children:'(string: "")'})," - Create/update using the compressed form of ",(0,t.jsx)(s.code,{children:"value"}),". Supported ",(0,t.jsx)(s.code,{children:"compression_type"}),"\nvalues are ",(0,t.jsx)(s.code,{children:"gzip"}),", ",(0,t.jsx)(s.code,{children:"lzw"}),", ",(0,t.jsx)(s.code,{children:"lz4"}),", ",(0,t.jsx)(s.code,{children:"snappy"}),", or ",(0,t.jsx)(s.code,{children:'""'}),". ",(0,t.jsx)(s.code,{children:'""'})," means no compression is used. If omitted and key already exists,\nupdate uses the same compression (or no compression) as the existing value."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"encoding"})," ",(0,t.jsx)(s.code,{children:'(string: "")'})," - Specifies the encoding of ",(0,t.jsx)(s.code,{children:"value"}),'. Defaults to no encoding.\nUse "base64" if ',(0,t.jsx)(s.code,{children:"value"})," is encoded in base64."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"sample-payload",children:"Sample payload"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n  "value": "{\\"foo\\": \\"bar\\"}"\n}\n'})}),"\n",(0,t.jsx)(s.h3,{id:"sample-request-1",children:"Sample request"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    --data @payload.json \\\n    http://127.0.0.1:8200/v1/sys/raw/secret/foo\n'})}),"\n",(0,t.jsx)(s.h2,{id:"list-raw",children:"List raw"}),"\n",(0,t.jsx)(s.p,{children:"This endpoint returns a list keys for a given path prefix."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"This endpoint requires 'sudo' capability."})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"LIST"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"/sys/raw/:prefix"})})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"GET"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"/sys/raw/:prefix?list=true"})})]})]})]}),"\n",(0,t.jsx)(s.h3,{id:"sample-request-2",children:"Sample request"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request LIST \\\n    http://127.0.0.1:8200/v1/sys/raw/logical\n'})}),"\n",(0,t.jsx)(s.h3,{id:"sample-response-1",children:"Sample response"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-json",children:'{\n  "data": {\n    "keys": ["abcd-1234...", "efgh-1234...", "ijkl-1234..."]\n  }\n}\n'})}),"\n",(0,t.jsx)(s.h2,{id:"delete-raw",children:"Delete raw"}),"\n",(0,t.jsx)(s.p,{children:"This endpoint deletes the key with given path. This is the raw path in the\nstorage backend and not the logical path that is exposed via the mount system."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,t.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"DELETE"})}),(0,t.jsx)(s.td,{style:{textAlign:"left"},children:(0,t.jsx)(s.code,{children:"/sys/raw/:path"})})]})})]}),"\n",(0,t.jsx)(s.h3,{id:"parameters-2",children:"Parameters"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"path"})," ",(0,t.jsx)(s.code,{children:"(string: <required>)"})," \u2013\xa0Specifies the raw path in the storage backend.\nThis is specified as part of the URL."]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"sample-request-3",children:"Sample request"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request DELETE \\\n    http://127.0.0.1:8200/v1/sys/raw/secret/foo\n'})})]})}function o(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>d});var t=n(96540);const r={},l=t.createContext(r);function i(e){const s=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(l.Provider,{value:s},e.children)}}}]);