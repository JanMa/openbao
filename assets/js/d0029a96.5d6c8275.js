"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1362],{52069:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var n=t(74848),o=t(28453);const i={layout:"api",page_title:"/sys/monitor - HTTP API",description:"The `/sys/monitor` endpoint is used to receive streaming logs from the OpenBao server."},r="/sys/monitor",l={id:"system/monitor",title:"/sys/monitor",description:"The `/sys/monitor` endpoint is used to receive streaming logs from the OpenBao server.",source:"@site/content/api-docs/system/monitor.mdx",sourceDirName:"system",slug:"/system/monitor",permalink:"/openbao/api-docs/system/monitor",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/api-docs/system/monitor.mdx",tags:[],version:"current",frontMatter:{layout:"api",page_title:"/sys/monitor - HTTP API",description:"The `/sys/monitor` endpoint is used to receive streaming logs from the OpenBao server."},sidebar:"apiSidebar",previous:{title:"mfa-validate",permalink:"/openbao/api-docs/system/mfa-validate"},next:{title:"/sys/mounts",permalink:"/openbao/api-docs/system/mounts"}},a={},d=[{value:"Monitor system logs",id:"monitor-system-logs",level:2},{value:"Parameters",id:"parameters",level:3},{value:"Sample request",id:"sample-request",level:3},{value:"Sample response",id:"sample-response",level:3}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"sysmonitor",children:(0,n.jsx)(s.code,{children:"/sys/monitor"})}),"\n",(0,n.jsxs)(s.p,{children:["The ",(0,n.jsx)(s.code,{children:"/sys/monitor"})," endpoint is used to receive streaming logs from the OpenBao server."]}),"\n",(0,n.jsx)(s.p,{children:"If OpenBao is emitting log messages faster than a receiver can process them, then\nsome log lines will be dropped."}),"\n",(0,n.jsx)(s.h2,{id:"monitor-system-logs",children:"Monitor system logs"}),"\n",(0,n.jsx)(s.p,{children:"This endpoint streams logs back to the client from OpenBao. Note that unlike most API endpoints in OpenBao, this one\ndoes not return JSON by default. This will send back data in whatever log format OpenBao has been configured with. By\ndefault, this is text."}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Method"}),(0,n.jsx)(s.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.code,{children:"GET"})}),(0,n.jsx)(s.td,{style:{textAlign:"left"},children:(0,n.jsx)(s.code,{children:"/sys/monitor"})})]})})]}),"\n",(0,n.jsx)(s.h3,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"log_level"})," ",(0,n.jsx)(s.code,{children:'(string: "info")'})," \u2013 Specifies the log level to use when streaming logs. This defaults to ",(0,n.jsx)(s.code,{children:"info"}),"\nif not specified."]}),"\n"]}),"\n",(0,n.jsxs)(s.li,{children:["\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.code,{children:"log_format"})," ",(0,n.jsx)(s.code,{children:'(string: "standard")'}),' \u2013 Specifies the log format to emit when streaming logs. Supported values are "standard" and "json". The default is ',(0,n.jsx)(s.code,{children:"standard"}),",\nif not specified."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(s.h3,{id:"sample-request",children:"Sample request"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-shell-session",children:"$ curl \\\n    --header \"X-Vault-Token: ...\" \\\n    'http://127.0.0.1:8200/v1/sys/monitor?log_level=debug'\n"})}),"\n",(0,n.jsx)(s.h3,{id:"sample-response",children:"Sample response"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{children:"2020-09-15T11:28:09.188-0700 [INFO]  core: successful mount: namespace= path=foo/ type=kv\n2020-09-15T11:28:18.265-0700 [DEBUG] core.secrets.deletion: clearing view: namespace=root path=foo/ total_keys=0\n2020-09-15T11:28:18.265-0700 [DEBUG] core.secrets.deletion: view cleared: namespace=root path=foo/\n2020-09-15T11:28:18.265-0700 [INFO]  core: successfully unmounted: path=foo/ namespace=\n"})})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>r,x:()=>l});var n=t(96540);const o={},i=n.createContext(o);function r(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);