"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[1863],{74158:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>r,default:()=>l,frontMatter:()=>i,metadata:()=>s,toc:()=>d});var o=n(74848),a=n(28453);const i={sidebar_label:"Token file",description:"Token File Method for OpenBao Auto-Auth"},r="OpenBao Auto-Auth token file method",s={id:"agent-and-proxy/autoauth/methods/token_file",title:"OpenBao Auto-Auth token file method",description:"Token File Method for OpenBao Auto-Auth",source:"@site/content/docs/agent-and-proxy/autoauth/methods/token_file.mdx",sourceDirName:"agent-and-proxy/autoauth/methods",slug:"/agent-and-proxy/autoauth/methods/token_file",permalink:"/openbao/docs/agent-and-proxy/autoauth/methods/token_file",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/docs/agent-and-proxy/autoauth/methods/token_file.mdx",tags:[],version:"current",frontMatter:{sidebar_label:"Token file",description:"Token File Method for OpenBao Auto-Auth"},sidebar:"docs",previous:{title:"Kubernetes",permalink:"/openbao/docs/agent-and-proxy/autoauth/methods/kubernetes"},next:{title:"Overview",permalink:"/openbao/docs/agent-and-proxy/autoauth/sinks/"}},u={},d=[{value:"Configuration",id:"configuration",level:2},{value:"Example configuration",id:"example-configuration",level:2}];function h(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"openbao-auto-auth-token-file-method",children:"OpenBao Auto-Auth token file method"}),"\n",(0,o.jsx)(t.p,{children:"~> Note: This authentication method is tailored for the development experience,\nand to facilitate getting started with OpenBao Agent and OpenBao Proxy. OpenBao Agent and\nOpenBao Proxy should never be configured to use this auto-auth method in a production environment."}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"token_file"})," method reads in an existing, valid OpenBao token from a file, and uses that\ntoken in lieu of authenticating itself. While it's a first class auto-auth method for all intents\nand purposes, it naturally doesn't authenticate itself, as it requires a token from elsewhere. Like\nother auto-auth methods, this method will attempt to renew the token, as appropriate."]}),"\n",(0,o.jsx)(t.p,{children:"This auto-auth method is especially useful when testing OpenBao Agent or OpenBao Proxy without needing to set up\nany authentication methods in OpenBao. For long-running Agent or Proxy processes, we strongly recommend another\nauto-auth method, such that Agent and Proxy are issuing their own own authentication requests to OpenBao."}),"\n",(0,o.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.code,{children:"token_file_path"})," ",(0,o.jsx)(t.code,{children:"(string: required)"})," - The path to the file with the token inside. This token cannot be a wrapping token."]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"example-configuration",children:"Example configuration"}),"\n",(0,o.jsxs)(t.p,{children:["An example configuration for OpenBao Agent, using the ",(0,o.jsx)(t.code,{children:"token_file"})," method to enable ",(0,o.jsx)(t.a,{href:"/docs/agent-and-proxy/autoauth",children:"auto-auth"}),", follows:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-hcl",children:'pid_file = "./pidfile"\n\nvault {\n  address = "https://127.0.0.1:8200"\n}\n\nauto_auth {\n  method {\n    type = "token_file"\n\n    config = {\n      token_file_path = "/home/username/.vault-token"\n    }\n  }\n}\n\n\napi_proxy {\n  use_auto_auth_token = true\n}\n\nlistener "tcp" {\n  address = "127.0.0.1:8100"\n  tls_disable = true\n}\n\ntemplate {\n  source      = "/etc/openbao/server.key.ctmpl"\n  destination = "/etc/openbao/server.key"\n}\n\ntemplate {\n  source      = "/etc/openbao/server.crt.ctmpl"\n  destination = "/etc/openbao/server.crt"\n}\n'})})]})}function l(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>s});var o=n(96540);const a={},i=o.createContext(a);function r(e){const t=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);