"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3042],{76054:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>a,toc:()=>c});var n=s(74848),o=s(28453);const r={layout:"api",page_title:"/sys/rotate - HTTP API",description:"The `/sys/rotate` endpoint is used to rotate the encryption key."},i="/sys/rotate",a={id:"system/rotate",title:"/sys/rotate",description:"The `/sys/rotate` endpoint is used to rotate the encryption key.",source:"@site/content/api-docs/system/rotate.mdx",sourceDirName:"system",slug:"/system/rotate",permalink:"/openbao/api-docs/system/rotate",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/api-docs/system/rotate.mdx",tags:[],version:"current",frontMatter:{layout:"api",page_title:"/sys/rotate - HTTP API",description:"The `/sys/rotate` endpoint is used to rotate the encryption key."},sidebar:"apiSidebar",previous:{title:"/sys/rotate/config",permalink:"/openbao/api-docs/system/rotate-config"},next:{title:"/sys/seal-status",permalink:"/openbao/api-docs/system/seal-status"}},d={},c=[{value:"Rotate encryption key",id:"rotate-encryption-key",level:2},{value:"Sample request",id:"sample-request",level:3}];function l(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"sysrotate",children:(0,n.jsx)(t.code,{children:"/sys/rotate"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"/sys/rotate"})," endpoint is used to rotate the encryption key."]}),"\n",(0,n.jsx)(t.h2,{id:"rotate-encryption-key",children:"Rotate encryption key"}),"\n",(0,n.jsx)(t.p,{children:"This endpoint triggers a rotation of the backend encryption key. This is the key\nthat is used to encrypt data written to the storage backend, and is not provided\nto operators. This operation is done online. Future values are encrypted with\nthe new key, while old values are decrypted with previous encryption keys."}),"\n",(0,n.jsxs)(t.p,{children:["This path requires ",(0,n.jsx)(t.code,{children:"sudo"})," capability in addition to ",(0,n.jsx)(t.code,{children:"update"}),"."]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Method"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Path"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"POST"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.code,{children:"/sys/rotate"})})]})})]}),"\n",(0,n.jsx)(t.h3,{id:"sample-request",children:"Sample request"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell-session",children:'$ curl \\\n    --header "X-Vault-Token: ..." \\\n    --request POST \\\n    http://127.0.0.1:8200/v1/sys/rotate\n'})})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>i,x:()=>a});var n=s(96540);const o={},r=n.createContext(o);function i(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);