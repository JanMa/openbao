"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8433],{70400:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>l});var a=t(74848),o=t(28453);const r={sidebar_label:"Overview",description:"These are general upgrade instructions for OpenBao for both non-HA and HA\nsetups. Please ensure that you also read the version-specific upgrade notes."},s="Upgrading OpenBao",i={id:"upgrading/index",title:"Upgrading OpenBao",description:"These are general upgrade instructions for OpenBao for both non-HA and HA\nsetups. Please ensure that you also read the version-specific upgrade notes.",source:"@site/content/docs/upgrading/index.mdx",sourceDirName:"upgrading",slug:"/upgrading/",permalink:"/docs/upgrading/",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/docs/upgrading/index.mdx",tags:[],version:"current",frontMatter:{sidebar_label:"Overview",description:"These are general upgrade instructions for OpenBao for both non-HA and HA\nsetups. Please ensure that you also read the version-specific upgrade notes."},sidebar:"docs",previous:{title:"Troubleshooting",permalink:"/docs/platform/servicenow/troubleshooting"},next:{title:"Upgrade OpenBao HA installations",permalink:"/docs/upgrading/vault-ha-upgrade"}},d={},l=[{value:"Agent",id:"agent",level:2},{value:"Testing the upgrade",id:"testing-the-upgrade",level:2},{value:"Non-HA installations",id:"non-ha-installations",level:2},{value:"HA installations",id:"ha-installations",level:2}];function p(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"upgrading-openbao",children:"Upgrading OpenBao"}),"\n",(0,a.jsxs)(n.p,{children:["These are general upgrade instructions for OpenBao for both non-HA and HA setups.\n",(0,a.jsx)(n.em,{children:"Please ensure that you also read any version-specific upgrade notes which can be\nfound in the sidebar."})]}),"\n",(0,a.jsxs)(n.p,{children:["!> ",(0,a.jsx)(n.strong,{children:"Important:"})," Always back up your data before upgrading! OpenBao does not\nmake backward-compatibility guarantees for its data store. Simply replacing the\nnewly-installed OpenBao binary with the previous version will not cleanly\ndowngrade OpenBao, as upgrades may perform changes to the underlying data\nstructure that make the data incompatible with a downgrade. If you need to roll\nback to a previous version of OpenBao, you should roll back your data store as\nwell."]}),"\n",(0,a.jsx)(n.p,{children:"OpenBao upgrades are designed such that large jumps (ie 1.3.10 -> 1.7.x) are\nsupported. The upgrade notes for each intervening version must be reviewed. The\nupgrade notes may describe additional steps or configuration to update before,\nduring, or after the upgrade."}),"\n",(0,a.jsx)(n.h2,{id:"agent",children:"Agent"}),"\n",(0,a.jsx)(n.p,{children:"The OpenBao Agent is an API client of the OpenBao Server. OpenBao APIs are almost\nalways backwards compatible. When they are not, this is called out in the\nupgrade guide for the new OpenBao version, and there is a lengthy deprecation\nperiod. The OpenBao Agent version can lag behind the OpenBao Server version, though\nwe recommend keeping all OpenBao instances up to date with the most recent minor OpenBao version\nto the extent possible."}),"\n",(0,a.jsx)(n.h2,{id:"testing-the-upgrade",children:"Testing the upgrade"}),"\n",(0,a.jsx)(n.p,{children:"It's always a good idea to try to ensure that the upgrade will be successful in\nyour environment. The ideal way to do this is to take a snapshot of your data\nand load it into a test cluster. However, if you are issuing secrets to third\nparty resources (cloud credentials, database credentials, etc.) ensure that you\ndo not allow external network connectivity during testing, in case credentials\nexpire. This prevents the test cluster from trying to revoke these resources\nalong with the non-test cluster."}),"\n",(0,a.jsx)(n.h2,{id:"non-ha-installations",children:"Non-HA installations"}),"\n",(0,a.jsx)(n.p,{children:"Upgrading non-HA installations of OpenBao is as simple as replacing the OpenBao\nbinary with the new version and restarting OpenBao. Any upgrade tasks that can be\nperformed for you will be taken care of when OpenBao is unsealed."}),"\n",(0,a.jsxs)(n.p,{children:["Always use ",(0,a.jsx)(n.code,{children:"SIGINT"})," or ",(0,a.jsx)(n.code,{children:"SIGTERM"})," to properly shut down OpenBao."]}),"\n",(0,a.jsx)(n.p,{children:"Be sure to also read and follow any instructions in the version-specific\nupgrade notes."}),"\n",(0,a.jsx)(n.h2,{id:"ha-installations",children:"HA installations"}),"\n",(0,a.jsxs)(n.p,{children:["Please refer to our ",(0,a.jsx)(n.a,{href:"/docs/upgrading/vault-ha-upgrade",children:"OpenBao HA upgrades"})," documentation for more details."]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var a=t(96540);const o={},r=a.createContext(o);function s(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);