"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6716],{12510:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>n,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var s=r(74848),a=r(28453);const o={sidebar_label:"OpenShift",description:"The Vault Secrets Operator may be installed on OpenShift clusters via the embedded OperatorHub or the Helm chart."},n="Run the Vault Secrets Operator on OpenShift",i={id:"platform/k8s/vso/openshift",title:"Run the Vault Secrets Operator on OpenShift",description:"The Vault Secrets Operator may be installed on OpenShift clusters via the embedded OperatorHub or the Helm chart.",source:"@site/content/docs/platform/k8s/vso/openshift.mdx",sourceDirName:"platform/k8s/vso",slug:"/platform/k8s/vso/openshift",permalink:"/docs/platform/k8s/vso/openshift",draft:!1,unlisted:!1,editUrl:"https://github.com/openbao/openbao/tree/main/website/content/docs/platform/k8s/vso/openshift.mdx",tags:[],version:"current",frontMatter:{sidebar_label:"OpenShift",description:"The Vault Secrets Operator may be installed on OpenShift clusters via the embedded OperatorHub or the Helm chart."},sidebar:"docs",previous:{title:"Telemetry",permalink:"/docs/platform/k8s/vso/telemetry"},next:{title:"api-reference",permalink:"/docs/platform/k8s/vso/api-reference"}},l={},c=[{value:"OperatorHub",id:"operatorhub",level:2},{value:"Helm chart",id:"helm-chart",level:2},{value:"Default images",id:"default-images",level:3},{value:"UBI-based images certified by Red Hat",id:"ubi-based-images-certified-by-red-hat",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"run-the-vault-secrets-operator-on-openshift",children:"Run the Vault Secrets Operator on OpenShift"}),"\n",(0,s.jsx)(t.p,{children:"The Vault Secrets Operator may be installed on OpenShift clusters via the embedded OperatorHub or the Helm chart."}),"\n",(0,s.jsx)(t.h2,{id:"operatorhub",children:"OperatorHub"}),"\n",(0,s.jsxs)(t.p,{children:["The Vault Secrets Operator is certified by Red Hat and therefore included in the ",(0,s.jsx)(t.a,{href:"https://access.redhat.com/documentation/en-us/openshift_container_platform/4.2/html/operators/olm-understanding-operatorhub",children:"OperatorHub section"})," of an OpenShift cluster's web console."]}),"\n",(0,s.jsxs)(t.p,{children:["Navigate to the OperatorHub page of your OpenShift cluster and search for ",(0,s.jsx)(t.code,{children:"Vault Secrets Operator"}),", then follow the instructions to install."]}),"\n",(0,s.jsx)(t.h2,{id:"helm-chart",children:"Helm chart"}),"\n",(0,s.jsxs)(t.p,{children:["The Vault Secrets Operator may also be installed in OpenShift using the Helm chart. (See ",(0,s.jsx)(t.a,{href:"/docs/platform/k8s/vso/installation",children:"Installation"})," for an overview of installation using the ",(0,s.jsx)(t.a,{href:"/docs/platform/k8s/vso/helm",children:"Helm chart"}),".) The examples below show example ",(0,s.jsx)(t.a,{href:"https://helm.sh/docs/chart_template_guide/values_files/",children:"values.yaml files"})," for each configuration, which would be used with ",(0,s.jsx)(t.code,{children:"helm install"})," as below:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-shell-session",children:"helm install vault-secrets-operator hashicorp/vault-secrets-operator \\\n  --create-namespace \\\n  --namespace vault-secrets-operator \\\n  --version 0.2.0 \\\n  --values values.yaml\n"})}),"\n",(0,s.jsxs)(t.p,{children:["For OpenShift, increasing the memory ",(0,s.jsx)(t.a,{href:"https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/",children:"requests and limits"})," has proven necessary in some cases, so those settings are included in the examples below."]}),"\n",(0,s.jsx)(t.h3,{id:"default-images",children:"Default images"}),"\n",(0,s.jsxs)(t.p,{children:["These values would use the ",(0,s.jsx)(t.a,{href:"/docs/platform/k8s/vso/helm#v-controller-manager-image",children:"default operator image"})," from HashiCorp's ",(0,s.jsx)(t.a,{href:"https://hub.docker.com/r/hashicorp/vault-secrets-operator",children:"Docker Hub repository"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:"controller:\n  manager:\n    resources:\n      limits:\n        memory: 256Mi\n      requests:\n        memory: 128Mi\n"})}),"\n",(0,s.jsx)(t.h3,{id:"ubi-based-images-certified-by-red-hat",children:"UBI-based images certified by Red Hat"}),"\n",(0,s.jsxs)(t.p,{children:["These values would use ",(0,s.jsx)(t.a,{href:"https://developers.redhat.com/products/rhel/ubi",children:"UBI-based"})," images from the ",(0,s.jsx)(t.a,{href:"https://catalog.redhat.com/software/containers/hashicorp/vault-secrets-operator/64dd558c892694d397c4bb06",children:"Red Hat's certified container registry"}),". Authentication may be required."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",children:"controller:\n  kubeRbacProxy:\n    image:\n      repository: registry.redhat.io/openshift4/ose-kube-rbac-proxy\n      tag: v4.13.0\n  manager:\n    image:\n      repository: registry.connect.redhat.com/hashicorp/vault-secrets-operator\n      tag: 0.2.0-ubi\n    resources:\n      limits:\n        memory: 256Mi\n      requests:\n        memory: 128Mi\n"})}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["UBI-based Vault Secrets Operator images are also published to HashiCorp's ",(0,s.jsx)(t.a,{href:"https://hub.docker.com/r/hashicorp/vault-secrets-operator",children:"DockerHub"})," and ",(0,s.jsx)(t.a,{href:"https://gallery.ecr.aws/hashicorp/vault-secrets-operator",children:"Amazon ECR"})," repositories."]})})]})}function d(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,t,r)=>{r.d(t,{R:()=>n,x:()=>i});var s=r(96540);const a={},o=s.createContext(a);function n(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:n(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);