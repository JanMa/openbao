<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-configuration/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">OpenBao configuration | OpenBao</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://janma.github.io/openbao/docs/configuration/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="OpenBao configuration | OpenBao"><meta data-rh="true" name="description" content="OpenBao server configuration reference."><meta data-rh="true" property="og:description" content="OpenBao server configuration reference."><link data-rh="true" rel="icon" href="/openbao/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://janma.github.io/openbao/docs/configuration/"><link data-rh="true" rel="alternate" href="https://janma.github.io/openbao/docs/configuration/" hreflang="en"><link data-rh="true" rel="alternate" href="https://janma.github.io/openbao/docs/configuration/" hreflang="x-default"><link rel="stylesheet" href="/openbao/assets/css/styles.a7459e73.css">
<script src="/openbao/assets/js/runtime~main.73807cf4.js" defer="defer"></script>
<script src="/openbao/assets/js/main.6ba2fa5e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/openbao/"><div class="navbar__logo"><img src="/openbao/img/logo.svg" alt="OpenBao Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/openbao/img/logo.svg" alt="OpenBao Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OpenBao</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/openbao/docs/">Docs</a><a class="navbar__item navbar__link" href="/openbao/api-docs/">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/openbao/openbao" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/openbao/docs/what-is-openbao/">What is OpenBao?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/openbao/docs/use-cases/">Use cases</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/get-started/developer-qs/">Getting Started</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/openbao/docs/browser-support/">Browser Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/openbao/docs/install/">Installing OpenBao</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/internals/">Internals</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/concepts/">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/openbao/docs/configuration/">Configuration</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/openbao/docs/configuration/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/openbao/docs/configuration/listener/">listener</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/openbao/docs/configuration/seal/">seal</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/openbao/docs/configuration/service-registration/">service_registration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/openbao/docs/configuration/storage/">storage</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openbao/docs/configuration/telemetry/">telemetry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openbao/docs/configuration/ui/">ui</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openbao/docs/configuration/user-lockout/">user-lockout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openbao/docs/configuration/log-requests-level/">Log completed requests</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/commands/">Commands (CLI)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/agent-and-proxy/">OpenBao Agent and Proxy</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/secrets/">Secret Engines</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/auth/">Auth Methods</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/audit/">Audit Devices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/plugins/">Plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/platform/">Platforms</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/upgrading/">Upgrade Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/release-notes/">Release Notes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/deprecation/">Deprecation Notices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/policies/">Policies</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/faq/">FAQ</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/openbao/docs/glossary/">Glossary</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/openbao/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Configuration</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Overview</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>OpenBao configuration</h1>
<p>Outside of development mode, OpenBao servers are configured using a file.
The format of this file is <a href="https://github.com/hashicorp/hcl" target="_blank" rel="noopener noreferrer">HCL</a> or JSON.</p>
<p>Enabling the file permissions check via the environment variable <code>VAULT_ENABLE_FILE_PERMISSIONS_CHECK</code>
allows OpenBao to check if the config directory and files are owned by the user running OpenBao.
It also checks if there are no write or execute permissions for group or others.
OpenBao allows operators to specify the user and permissions of the plugin directory and binaries
using parameters <code>plugin_file_uid</code> and <code>plugin_file_permissions</code> in config if an operator needs those to be different. This check is disabled by default.</p>
<p>An example configuration is shown below:</p>
<div class="language-hcl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-hcl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ui            = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cluster_addr  = &quot;https://127.0.0.1:8201&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">api_addr      = &quot;https://127.0.0.1:8200&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">disable_mlock = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">storage &quot;raft&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  path = &quot;/path/to/raft/data&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  node_id = &quot;raft_node_1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">listener &quot;tcp&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  address       = &quot;127.0.0.1:8200&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tls_cert_file = &quot;/path/to/full-chain.pem&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  tls_key_file  = &quot;/path/to/private-key.pem&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">telemetry {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  statsite_address = &quot;127.0.0.1:8125&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  disable_hostname = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>After the configuration is written, use the <code>-config</code> flag with <code>bao server</code>
to specify where the configuration is.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="parameters">Parameters<a href="#parameters" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h2>
<ul>
<li>
<p><code>storage</code> <code>([StorageBackend][storage-backend]: &lt;required&gt;)</code> –
Configures the storage backend where OpenBao data is stored. Please see the
<a href="/openbao/docs/configuration/storage/">storage backends documentation</a> for the full list of
available storage backends. Running OpenBao in HA mode would require
coordination semantics to be supported by the backend. If the storage backend
supports HA coordination, HA backend options can also be specified in this
parameter block. If not, a separate <code>ha_storage</code> parameter should be
configured with a backend that supports HA, along with corresponding HA
options.</p>
</li>
<li>
<p><code>ha_storage</code> <code>([StorageBackend][storage-backend]: nil)</code> – Configures
the storage backend where OpenBao HA coordination will take place. This must be
an HA-supporting backend. If not set, HA will be attempted on the backend
given in the <code>storage</code> parameter. This parameter is not required if the
storage backend supports HA coordination and if HA specific options are
already specified with <code>storage</code> parameter. (Refer to <a href="/openbao/tutorials/raft/raft-ha-storage/">Use Integrated Storage
for HA
Coordination</a>
for a usage example.)</p>
</li>
<li>
<p><code>listener</code> <code>([Listener][listener]: &lt;required&gt;)</code> – Configures how
OpenBao is listening for API requests.</p>
</li>
<li>
<p><code>user_lockout</code> <code>([UserLockout][user-lockout]: nil)</code> –
Configures the user-lockout behaviour for failed logins. For more information, please see the
<a href="/openbao/docs/configuration/user-lockout/">user lockout configuration documentation</a>.</p>
</li>
<li>
<p><code>seal</code> <code>([Seal][seal]: nil)</code> – Configures the seal type to use for
auto-unsealing, as well as for
[seal wrapping][sealwrap] as an additional layer of data protection.</p>
</li>
<li>
<p><code>cluster_name</code> <code>(string: &lt;generated&gt;)</code> – Specifies the identifier for the
OpenBao cluster. If omitted, OpenBao will generate a value.</p>
</li>
<li>
<p><code>cache_size</code> <code>(string: &quot;131072&quot;)</code> – Specifies the size of the read cache used
by the physical storage subsystem. The value is in number of entries, so the
total cache size depends on the size of stored entries.</p>
</li>
<li>
<p><code>disable_cache</code> <code>(bool: false)</code> – Disables all caches within OpenBao, including
the read cache used by the physical storage subsystem. This will very
significantly impact performance.</p>
</li>
<li>
<p><code>disable_mlock</code> <code>(bool: false)</code> – Disables the server from executing the
<code>mlock</code> syscall. <code>mlock</code> prevents memory from being swapped to disk. Disabling
<code>mlock</code> is not recommended unless using <a href="/openbao/docs/internals/integrated-storage/">integrated storage</a>.
Follow the additional security precautions outlined below when disabling <code>mlock</code>.
This can also be provided via the environment variable <code>VAULT_DISABLE_MLOCK</code>.</p>
<p>Disabling <code>mlock</code> is not recommended unless the systems running OpenBao only
use encrypted swap or do not use swap at all. OpenBao only supports memory
locking on UNIX-like systems that support the mlock() syscall (Linux, FreeBSD, etc).
Non UNIX-like systems (e.g. Windows, NaCL, Android) lack the primitives to keep a
process&#x27;s entire memory address space from spilling to disk and is therefore
automatically disabled on unsupported platforms.</p>
<p>Disabling <code>mlock</code> is strongly recommended if using <a href="/openbao/docs/internals/integrated-storage/">integrated
storage</a> due to
the fact that <code>mlock</code> does not interact well with memory mapped files such as
those created by BoltDB, which is used by Raft to track state. When using
<code>mlock</code>, memory-mapped files get loaded into resident memory which causes
OpenBao&#x27;s entire dataset to be loaded in-memory and cause out-of-memory
issues if OpenBao&#x27;s data becomes larger than the available RAM. In this case,
even though the data within BoltDB remains encrypted at rest, swap should be
disabled to prevent OpenBao&#x27;s other in-memory sensitive data from being dumped
into disk.</p>
<p>On Linux, to give the OpenBao executable the ability to use the <code>mlock</code>
syscall without running the process as root, run:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo setcap cap_ipc_lock=+ep $(readlink -f $(which bao))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Note: Since each plugin runs as a separate process, you need to do the same
for each plugin in your <a href="/openbao/docs/plugins/plugin-architecture/#plugin-directory">plugins
directory</a>.</p></div></div>
<p>If you use a Linux distribution with a modern version of systemd, you can add
the following directive to the &quot;[Service]&quot; configuration section:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">LimitMEMLOCK=infinity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>
<p><code>plugin_directory</code> <code>(string: &quot;&quot;)</code> – A directory from which plugins are
allowed to be loaded. OpenBao must have permission to read files in this
directory to successfully load plugins, and the value cannot be a symbolic link.</p>
<p>Enabling the file permissions check via the environment variable <code>VAULT_ENABLE_FILE_PERMISSIONS_CHECK</code>
allows OpenBao to check if the config directory and files are owned by the user running OpenBao.
It also checks if there are no write or execute permissions for group or others.
OpenBao allows operators to specify the user and permissions of the plugin directory and binaries
using parameters <code>plugin_file_uid</code> and <code>plugin_file_permissions</code> in config if an operator needs those to be different. This check is disabled by default.</p>
</li>
<li>
<p><code>plugin_file_uid</code> <code>(integer: 0)</code> – Uid of the plugin directories and plugin binaries if they
are owned by an user other than the user running OpenBao. This only needs to be set if the
file permissions check is enabled via the environment variable <code>VAULT_ENABLE_FILE_PERMISSIONS_CHECK</code>.</p>
</li>
<li>
<p><code>plugin_file_permissions</code> <code>(string: &quot;&quot;)</code> – Octal permission string of the plugin
directories and plugin binaries if they have write or execute permissions for group or others.
This only needs to be set if the file permissions check is enabled via the environment variable
<code>VAULT_ENABLE_FILE_PERMISSIONS_CHECK</code>.</p>
</li>
<li>
<p><code>telemetry</code> <code>([Telemetry][telemetry]: &lt;none&gt;)</code> – Specifies the telemetry
reporting system.</p>
</li>
<li>
<p><code>default_lease_ttl</code> <code>(string: &quot;768h&quot;)</code> – Specifies the default lease duration
for tokens and secrets. This is specified using a label suffix like <code>&quot;30s&quot;</code> or
<code>&quot;1h&quot;</code>. This value cannot be larger than <code>max_lease_ttl</code>.</p>
</li>
<li>
<p><code>max_lease_ttl</code> <code>(string: &quot;768h&quot;)</code> – Specifies the maximum possible lease
duration for tokens and secrets. This is specified using a label
suffix like <code>&quot;30s&quot;</code> or <code>&quot;1h&quot;</code>. Individual mounts can override this value
by tuning the mount with the <code>max-lease-ttl</code> flag of the
<a href="/openbao/docs/commands/auth/tune/#max-lease-ttl">auth</a> or
<a href="/openbao/docs/commands/secrets/tune/#max-lease-ttl">secret</a> commands.</p>
</li>
<li>
<p><code>default_max_request_duration</code> <code>(string: &quot;90s&quot;)</code> – Specifies the default
maximum request duration allowed before OpenBao cancels the request. This can
be overridden per listener via the <code>max_request_duration</code> value.</p>
</li>
<li>
<p><code>detect_deadlocks</code> <code>(string: &quot;&quot;)</code> - A comma separated string that specifies the internal
mutex locks that should be monitored for potential deadlocks. Currently supported values
include <code>statelock</code>, <code>quotas</code> and <code>expiration</code> which will cause &quot;POTENTIAL DEADLOCK:&quot;
to be logged when an attempt at a core state lock appears to be deadlocked. Enabling this
can have a negative effect on performance due to the tracking of each lock attempt.</p>
</li>
<li>
<p><code>raw_storage_endpoint</code> <code>(bool: false)</code> – Enables the <code>sys/raw</code> endpoint which
allows the decryption/encryption of raw data into and out of the security
barrier. This is a highly privileged endpoint.</p>
</li>
<li>
<p><code>introspection_endpoint</code> <code>(bool: false)</code> - Enables the <code>sys/internal/inspect</code> endpoint
which allows users with a root token or sudo privileges to inspect certain subsystems inside OpenBao.</p>
</li>
<li>
<p><code>ui</code> <code>(bool: false)</code> – Enables the built-in web UI, which is available on all
listeners (address + port) at the <code>/ui</code> path. Browsers accessing the standard
OpenBao API address will automatically redirect there. This can also be provided
via the environment variable <code>VAULT_UI</code>. For more information, please see the
<a href="/openbao/docs/configuration/ui/">ui configuration documentation</a>.</p>
</li>
<li>
<p><code>pid_file</code> <code>(string: &quot;&quot;)</code> - Path to the file in which the OpenBao server&#x27;s
Process ID (PID) should be stored.</p>
</li>
<li>
<p><code>enable_response_header_hostname</code> <code>(bool: false)</code> - Enables the addition of an HTTP header
in all of OpenBao&#x27;s HTTP responses: <code>X-Vault-Hostname</code>. This will contain the
host name of the OpenBao node that serviced the HTTP request. This information
is best effort and is not guaranteed to be present. If this configuration
option is enabled and the <code>X-Vault-Hostname</code> header is not present in a response,
it means there was some kind of error retrieving the host name from the
operating system.</p>
</li>
<li>
<p><code>enable_response_header_raft_node_id</code> <code>(bool: false)</code> - Enables the addition of an HTTP header
in all of OpenBao&#x27;s HTTP responses: <code>X-Vault-Raft-Node-ID</code>. If OpenBao is participating
in a Raft cluster (i.e. using integrated storage), this header will contain the
Raft node ID of the OpenBao node that serviced the HTTP request. If OpenBao is not
participating in a Raft cluster, this header will be omitted, whether this configuration
option is enabled or not.</p>
</li>
<li>
<p><code>log_level</code> <code>(string: &quot;info&quot;)</code> - Log verbosity level.
Supported values (in order of descending detail) are <code>trace</code>, <code>debug</code>, <code>info</code>, <code>warn</code>, and <code>error</code>.
This can also be specified via the <code>VAULT_LOG_LEVEL</code> environment variable.</p>
</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Note: On SIGHUP (<code>sudo kill -s HUP</code> <em>pid of bao</em>), if a valid value is specified, OpenBao will update the existing log level,
overriding (even if specified) both the CLI flag and environment variable.</p></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Note: Not all parts of OpenBao&#x27;s logging can have its log level be changed dynamically this way; in particular,
secrets/auth plugins are currently not updated dynamically.</p></div></div>
<ul>
<li>
<p><code>log_format</code> - Equivalent to the <a href="/openbao/docs/commands/server/#_log_format"><code>-log-format</code> command-line flag</a>.</p>
</li>
<li>
<p><code>log_file</code> - Equivalent to the <a href="/openbao/docs/commands/server/#_log_file"><code>-log-file</code> command-line flag</a>.</p>
</li>
<li>
<p><code>log_rotate_duration</code> - Equivalent to the <a href="/openbao/docs/commands/server/#_log_rotate_duration"><code>-log-rotate-duration</code> command-line flag</a>.</p>
</li>
<li>
<p><code>log_rotate_bytes</code> - Equivalent to the <a href="/openbao/docs/commands/server/#_log_rotate_bytes"><code>-log-rotate-bytes</code> command-line flag</a>.</p>
</li>
<li>
<p><code>log_rotate_max_files</code> - Equivalent to the <a href="/openbao/docs/commands/server/#_log_rotate_max_files"><code>-log-rotate-max-files</code> command-line flag</a>.</p>
</li>
<li>
<p><code>imprecise_lease_role_tracking</code> <code>(bool: &quot;false&quot;)</code> - Skip lease counting by role if there are no role based quotas enabled.
When <code>imprecise_lease_role_tracking</code> is set to true and a new role-based quota is enabled, subsequent lease counts start from 0.
<code>imprecise_lease_role_tracking</code> affects role-based lease count quotas, but reduces latencies when not using role based quotas.</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="high-availability-parameters">High availability parameters<a href="#high-availability-parameters" class="hash-link" aria-label="Direct link to High availability parameters" title="Direct link to High availability parameters">​</a></h3>
<p>The following parameters are used on backends that support <a href="/openbao/docs/concepts/ha/">high availability</a>.</p>
<ul>
<li>
<p><code>api_addr</code> <code>(string: &quot;&quot;)</code> – Specifies the address (full URL) to advertise to
other OpenBao servers in the cluster for client redirection. This value is also
used for <a href="/openbao/docs/plugins/">plugin backends</a>. This can also be provided via the
environment variable <code>VAULT_API_ADDR</code>. In general this should be set as a full
URL that points to the value of the <a href="#listener"><code>listener</code></a> address.
This can be dynamically defined with a
<a href="https://pkg.go.dev/github.com/hashicorp/go-sockaddr/template" target="_blank" rel="noopener noreferrer">go-sockaddr template</a>
that is resolved at runtime.</p>
</li>
<li>
<p><code>cluster_addr</code> <code>(string: &quot;&quot;)</code> – Specifies the address to advertise to other
OpenBao servers in the cluster for request forwarding. This can also be provided
via the environment variable <code>VAULT_CLUSTER_ADDR</code>. This is a full URL, like
<code>api_addr</code>, but OpenBao will ignore the scheme (all cluster members always
use TLS with a private key/certificate).
This can be dynamically defined with a
<a href="https://pkg.go.dev/github.com/hashicorp/go-sockaddr/template" target="_blank" rel="noopener noreferrer">go-sockaddr template</a>
that is resolved at runtime.</p>
</li>
<li>
<p><code>disable_clustering</code> <code>(bool: false)</code> – Specifies whether clustering features
such as request forwarding are enabled. Setting this to true on one OpenBao node
will disable these features <em>only when that node is the active node</em>. This
parameter cannot be set to <code>true</code> if <code>raft</code> is the storage type.</p>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/openbao/openbao/tree/main/website/content/docs/configuration/index.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/openbao/docs/concepts/user-lockout/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">User lockout</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/openbao/docs/configuration/listener/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#parameters" class="table-of-contents__link toc-highlight">Parameters</a><ul><li><a href="#high-availability-parameters" class="table-of-contents__link toc-highlight">High availability parameters</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/openbao/docs/">Intro</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/openbao/openbao/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://chat.lfx.linuxfoundation.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chat Server<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.lfedge.org/display/OH/OpenBao+%28Hashicorp+Vault+Fork+effort%29+FAQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/openbao/openbao" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 The OpenBao Authors. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>