<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-internals/limits" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">OpenBao limits and maximums | OpenBao</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://janma.github.io/openbao/docs/internals/limits/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="OpenBao limits and maximums | OpenBao"><meta data-rh="true" name="description" content="Learn about the maximum number of objects within OpenBao."><meta data-rh="true" property="og:description" content="Learn about the maximum number of objects within OpenBao."><link data-rh="true" rel="icon" href="/openbao/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://janma.github.io/openbao/docs/internals/limits/"><link data-rh="true" rel="alternate" href="https://janma.github.io/openbao/docs/internals/limits/" hreflang="en"><link data-rh="true" rel="alternate" href="https://janma.github.io/openbao/docs/internals/limits/" hreflang="x-default"><link rel="stylesheet" href="/openbao/assets/css/styles.28fe8a88.css">
<script src="/openbao/assets/js/runtime~main.7f1fecbe.js" defer="defer"></script>
<script src="/openbao/assets/js/main.6b64db56.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/openbao/"><div class="navbar__logo"><img src="/openbao/img/logo.svg" alt="OpenBao Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/openbao/img/logo.svg" alt="OpenBao Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OpenBao</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/openbao/docs/">Docs</a><a class="navbar__item navbar__link" href="/openbao/api-docs/">API</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/openbao/openbao" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/openbao/docs/what-is-openbao/">What is OpenBao?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/openbao/docs/use-cases/">Use cases</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/get-started/developer-qs/">Getting Started</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/openbao/docs/browser-support/">Browser Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/openbao/docs/install/">Installing OpenBao</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/openbao/docs/internals/">Internals</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openbao/docs/internals/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openbao/docs/internals/architecture/">Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openbao/docs/internals/high-availability/">High availability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openbao/docs/internals/integrated-storage/">Integrated storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openbao/docs/internals/security/">Security model</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/openbao/docs/internals/telemetry/">Telemetry</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openbao/docs/internals/token/">Token authentication</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/openbao/docs/internals/rotation/">Key rotation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/openbao/docs/internals/limits/">Limits and Maximums</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/concepts/">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/configuration/">Configuration</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/commands/">Commands (CLI)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/agent-and-proxy/">OpenBao Agent and Proxy</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/secrets/">Secret Engines</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/auth/">Auth Methods</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/audit/">Audit Devices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/plugins/">Plugins</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/platform/">Platforms</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/upgrading/">Upgrade Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/release-notes/">Release Notes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/deprecation/">Deprecation Notices</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/policies/">Policies</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/openbao/docs/faq/">FAQ</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/openbao/docs/glossary/">Glossary</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/openbao/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Internals</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Limits and Maximums</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>OpenBao limits and maximums</h1>
<p>OpenBao imposes fixed upper limits on the size of certain fields and
objects, and configurable limits on others. OpenBao also has upper
bounds that are a consequence of its underlying storage. This page
attempts to collect these limits, to assist in planning OpenBao
deployments.</p>
<p>In some cases, the system will show performance problems in advance of
the absolute limits being reached.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="storage-related-limits">Storage-Related limits<a href="#storage-related-limits" class="hash-link" aria-label="Direct link to Storage-Related limits" title="Direct link to Storage-Related limits">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="storage-entry-size">Storage entry size<a href="#storage-entry-size" class="hash-link" aria-label="Direct link to Storage entry size" title="Direct link to Storage entry size">​</a></h3>
<p>The maximum size of an object written to a storage backend is determined
by that backend.</p>
<p>For the integrated storage backend, the default limit is 1 MiB. This may be
configured via <code>max_entry_size</code> in the <a href="/openbao/docs/configuration/storage/raft/#max_entry_size">storage
stanza</a>.</p>
<p>Many of the other limits within OpenBao derive from the maximum size of
a storage entry, as described in the next sections. It is possible to
recover from an error where a storage entry has reached its maximum
size by reconfiguring OpenBao to a larger maximum storage
entry. However, using large storage entries also negatively affects
performance, as even a small change may become a large
read-modify-write cycle on the entire entry. Larger writes may also delay
Raft heartbeats, leading to leadership instability.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mount-point-limits">Mount point limits<a href="#mount-point-limits" class="hash-link" aria-label="Direct link to Mount point limits" title="Direct link to Mount point limits">​</a></h3>
<p>All secret engine mount points, and all auth mount points, must each fit
within a single storage entry. Each JSON object describing a mount
takes about 500 bytes, but is stored in compressed form at a typical cost of
about 75 bytes. Each of (1) auth mounts, (2) secret engine mount points,
(3) local-only auth methods, and (4) local-only secret engine mounts are
stored separately, so the limit applies to each independently.</p>
<table><thead><tr><th></th><th>Integrated storage default (1 MiB)</th></tr></thead><tbody><tr><td>Maximum number of secret engine mount points</td><td>~14000</td></tr><tr><td>Maximum number of enabled auth methods</td><td>~14000</td></tr><tr><td>Maximum mount point length</td><td>no enforced limit</td></tr></tbody></table>
<p>Specifying distinct per-mount options, or using long mount point paths, can
increase the space required per mount.</p>
<p>The number of mount points can be monitored by reading the
<a href="/openbao/api-docs/system/auth/"><code>sys/auth</code></a> and
<a href="/openbao/api-docs/system/mounts/"><code>sys/mounts</code></a> endpoints from the root namespace and
similar sub-paths for namespaces respectively, like: <code>namespace1/sys/auth</code>,
<code>namespace1/sys/mounts</code>, etc.</p>
<p>Alternatively, use the
<a href="/openbao/docs/internals/telemetry/metrics/core-system/#vault-core-mount_table-num_entries"><code>vault.core.mount_table.num_entries</code></a>
and
<a href="/openbao/docs/internals/telemetry/metrics/core-system/#vault-core-mount_table-size"><code>vault.core.mount_table.size</code></a>
telemetry metrics to monitor the number of mount points and size of each mount table.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="namespace-limits">Namespace limits<a href="#namespace-limits" class="hash-link" aria-label="Direct link to Namespace limits" title="Direct link to Namespace limits">​</a></h3>
<p>The entire list of namespaces must fit in a single storage
entry. However, the effective limit is generally much smaller because each
namespace must have at least two secret engine mounts (for <code>sys</code> and <code>identity</code>),
one local secret engine (<code>cubbyhole</code>) and one auth engine mount (<code>token</code>).</p>
<table><thead><tr><th></th><th>Integrated storage default (1 MiB)</th></tr></thead><tbody><tr><td>Maximum number of namespaces</td><td>~7000</td></tr><tr><td>Maximum number of namespaces with one additional secret engine per namespace</td><td>~4600</td></tr><tr><td>Maximum nesting depth for namespaces</td><td>~220</td></tr></tbody></table>
<p>The maximum nesting depth calculation assumes a cost of 40 bytes per namespace
path element. 160 nested paths = 160 namespaces ranging from 40 bytes to
6400 bytes.</p>
<p>The number of namespaces can be monitored by querying
<a href="/openbao/api-docs/system/namespaces/"><code>sys/namespaces</code></a>.</p>
<p>To estimate the number of namespaces that can be created, divide the mount
point limit by the larger of the number of auth mounts per namespace
(including <code>ns_token</code>) and the number of secret mounts per namespace
(including <code>identity</code> and <code>sys</code>.)</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entity-and-group-limits">Entity and group limits<a href="#entity-and-group-limits" class="hash-link" aria-label="Direct link to Entity and group limits" title="Direct link to Entity and group limits">​</a></h3>
<p>The metadata that may be attached to an identity entity or an entity group
has the following constraints:</p>
<table><thead><tr><th></th><th>Limit</th></tr></thead><tbody><tr><td>Number of key-value pairs in metadata</td><td>64</td></tr><tr><td>Metadata key size</td><td>128 bytes</td></tr><tr><td>Metadata value size</td><td>512 bytes</td></tr></tbody></table>
<p>OpenBao shards the entities across 256 storage entries. This creates a hard
limit of  256MiB on integrated storage with its default settings. Entity aliases
are stored inline in the Entity objects and so consume the same pool of storage.
Entity definitions are compressed within each storage entry, and the
pre-compression size varies with the number of entity aliases and the amount of
metadata. Minimally-populated entities about 200 bytes after compression.</p>
<p>Group definitions are stored separately, in their own pool of 256
storage entries. The size of each group object depends on the number
of members and the amount of metadata. Group aliases and group
membership information is stored inline in each Group object. A group
with no metadata, holding 10 entities, will use about 500 bytes per
group. A group holding 100 entities would instead consume about 4,000
bytes.</p>
<p>The following table shows a best-case estimate and a more conservative
estimate for entities and groups. The number is slightly less than the
amount that fits in one shard, to reflect the fact that the first
shard to fill up will start inducing failures. This maximum will
decrease if each entity has a large amount of metadata, or if each
group has a large number of members.</p>
<table><thead><tr><th></th><th>Integrated storage default (1 MiB)</th></tr></thead><tbody><tr><td>Maximum number of identity entities (best case, 200 bytes per entity)</td><td>~1,250,000</td></tr><tr><td>Maximum number of identity entities (conservative case, 500 bytes per entity)</td><td>~480,000</td></tr><tr><td>Maximum number of identity entities (maximum permitted metadata, 41160 bytes per entity)</td><td>2,400</td></tr><tr><td>Maximum number of groups (10 entities per group)</td><td>~480,000</td></tr><tr><td>Maximum number of groups (100 entities per group)</td><td>~50,000</td></tr><tr><td>Maximum number of members in a group</td><td>~23,000</td></tr></tbody></table>
<p>The number of entities can be monitored using OpenBao&#x27;s <a href="/openbao/docs/internals/telemetry/#token-identity-and-lease-metrics">telemetry</a>; see <code>vault.identity.num_entities</code> (total) or <code>vault.identity.entities.count</code> (by namespace).</p>
<p>The cost of entity and group updates grows as the number of objects in
each shard increases. This cost can be monitored via the
<code>vault.identity.upsert_entity_txn</code> and
the <code>vault.identity.upsert_group_txn</code> metrics.</p>
<p>Very large internal groups should be avoided (more than 1000 members),
because the membership list in a group must reside in a single storage entry.
Instead, consider using <a href="/openbao/docs/concepts/identity/#external-vs-internal-groups">external groups</a> or split the group up into multiple sub-groups.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="token-limits">Token limits<a href="#token-limits" class="hash-link" aria-label="Direct link to Token limits" title="Direct link to Token limits">​</a></h3>
<p>One storage entry is used per token; there is thus no
upper bound on the number of active tokens. There are no restrictions on
the token metadata field, other than the entire token must fit into one
storage entry:</p>
<table><thead><tr><th></th><th>Limit</th></tr></thead><tbody><tr><td>Number of key-value pairs in metadata</td><td>no limit</td></tr><tr><td>Metadata key size</td><td>no limit</td></tr><tr><td>Metadata value size</td><td>no limit</td></tr><tr><td>Total size of token metadata</td><td>512 KiB</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="policy-limits">Policy limits<a href="#policy-limits" class="hash-link" aria-label="Direct link to Policy limits" title="Direct link to Policy limits">​</a></h3>
<p>The maximum size of a policy is limited by the storage
entry size. Policy lists that appear in tokens or entities must fit
within a single storage entry.</p>
<table><thead><tr><th></th><th>Integrated storage default (1 MiB)</th></tr></thead><tbody><tr><td>Maximum policy size</td><td>1 MiB</td></tr><tr><td>Maximum number of policies per namespace</td><td>no limit</td></tr><tr><td>Maximum number of policies per token</td><td>~28,000</td></tr><tr><td>Maximum number of policies per entity or group</td><td>~28,000</td></tr></tbody></table>
<p>Each time a token is used, OpenBao must assemble the collection of
policies attached to that token, to the entity, to any groups that the
entity belongs to, and recursively to any groups that contain those groups.
Very large numbers of policies are possible, but can cause OpenBao’s
response time to increase. You can monitor the
<a href="/openbao/docs/internals/telemetry/#core-metrics"><code>vault.core.fetch_acl_and_token</code></a>
metric to determine if the time required to assemble an access control list
is becoming excessive.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="versioned-key-value-store-kv-v2-secret-engine">Versioned key-value store (kv-v2 secret engine)<a href="#versioned-key-value-store-kv-v2-secret-engine" class="hash-link" aria-label="Direct link to Versioned key-value store (kv-v2 secret engine)" title="Direct link to Versioned key-value store (kv-v2 secret engine)">​</a></h3>
<table><thead><tr><th></th><th>Limit</th></tr></thead><tbody><tr><td>Number of secrets</td><td>no limit, up to available storage capacity</td></tr><tr><td>Maximum size of one version of a secret</td><td>slightly less than one storage entry (512 KiB or 1024 KiB)</td></tr><tr><td>Number of versions of a secret</td><td>default 10; configurable per-secret or per-mount</td></tr><tr><td>Maximum number of versions (not checked when configured)</td><td>at least 24,000</td></tr></tbody></table>
<p>Each version of a secret must fit in a single storage entry; the
key-value pairs are converted to JSON before storage.</p>
<p>Version metadata consumes 21 bytes per version and must fit in a
single storage entry, separate from the stored data.</p>
<p>Each secret also has version-agnostic metadata. This data can contain a <code>custom_metadata</code> field of
user-provided key-value pairs. OpenBao imposes the following custom metadata limits:</p>
<table><thead><tr><th></th><th>Limit</th></tr></thead><tbody><tr><td>Number of custom metadata key-value pairs</td><td>64</td></tr><tr><td>Custom metadata key size</td><td>128 bytes</td></tr><tr><td>Custom metadata value size</td><td>512 bytes</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transit-secret-engine">Transit secret engine<a href="#transit-secret-engine" class="hash-link" aria-label="Direct link to Transit secret engine" title="Direct link to Transit secret engine">​</a></h3>
<p>The maximum size of a Transit ciphertext or plaintext is limited by OpenBao&#x27;s
maximum request size, as described <a href="#request-size">below</a>.</p>
<p>All archived versions of a single key must fit in a single storage entry.
This limit depends on the key size.</p>
<table><thead><tr><th>Key length</th><th>Integrated storage default (1 MiB)</th></tr></thead><tbody><tr><td>aes128-gcm96 keys</td><td>4017</td></tr><tr><td>aes256-gcm96 keys</td><td>3731</td></tr><tr><td>chacha-poly1305 keys</td><td>3731</td></tr><tr><td>ed25519 keys</td><td>2841</td></tr><tr><td>ecdsa-p256 keys</td><td>1635</td></tr><tr><td>ecdsa-p384 keys</td><td>1318</td></tr><tr><td>ecdsa-p523 keys</td><td>1078</td></tr><tr><td>1024-bit RSA keys</td><td>333</td></tr><tr><td>2048-bit RSA keys</td><td>233</td></tr><tr><td>4096-bit RSA kyes</td><td>178</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="other-limits">Other limits<a href="#other-limits" class="hash-link" aria-label="Direct link to Other limits" title="Direct link to Other limits">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-size">Request size<a href="#request-size" class="hash-link" aria-label="Direct link to Request size" title="Direct link to Request size">​</a></h3>
<p>The maximum size of an HTTP request sent to OpenBao is limited by
the <code>max_request_size</code> option in the <a href="/openbao/docs/configuration/listener/tcp/">listener stanza</a>. It defaults to 32 MiB. This value, minus the overhead of
the HTTP request itself, places an upper bound on any Transit operation,
and on the maximum size of any key-value secrets.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="request-duration">Request duration<a href="#request-duration" class="hash-link" aria-label="Direct link to Request duration" title="Direct link to Request duration">​</a></h3>
<p>The maximum duration of an OpenBao operation is
<a href="/openbao/docs//configuration/listener/tcp/"><code>max_request_duration</code></a>, which defaults to
90 seconds. If a particular secret engine takes longer than this to perform an
operation on a remote service, the OpenBao client will see a failure.</p>
<p>The environment variable <a href="/openbao/docs/commands/#vault_client_timeout"><code>VAULT_CLIENT_TIMEOUT</code></a> sets a client-side maximum duration as well,
which is 60 seconds by default.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lease-limits">Lease limits<a href="#lease-limits" class="hash-link" aria-label="Direct link to Lease limits" title="Direct link to Lease limits">​</a></h3>
<p>A systemwide <a href="/openbao/docs/configuration/#max_lease_ttl">maximum TTL</a>, and a
<a href="/openbao/api-docs/system/mounts/#max_lease_ttl-1">maximum TTL per mount point</a> can be
configured.</p>
<p>Although no technical maximum exists, high lease counts can cause
degradation in system performance. We recommend short default
time-to-live values on tokens and leases to avoid a large backlog of
unexpired leases, or a large number of simultaneous expirations.</p>
<table><thead><tr><th></th><th>Limit</th></tr></thead><tbody><tr><td>Maximum number of leases</td><td>advisory limit at 256,000</td></tr><tr><td>Maximum duration of lease or token</td><td>768 hours by default</td></tr></tbody></table>
<p>The current number of unexpired leases can be monitored via the
<a href="/openbao/docs/internals/telemetry/#token-identity-and-lease-metrics"><code>vault.expire.num_leases</code></a> metric.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transform-limits">Transform limits<a href="#transform-limits" class="hash-link" aria-label="Direct link to Transform limits" title="Direct link to Transform limits">​</a></h3>
<p>The Transform secret engine obeys the <a href="/openbao/docs/secrets/transform/#input-limits">FF3-1 minimum and maximum sizes
on the length of an input</a>, which
are a function of the alphabet size.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="external-plugin-limits">External plugin limits<a href="#external-plugin-limits" class="hash-link" aria-label="Direct link to External plugin limits" title="Direct link to External plugin limits">​</a></h3>
<p>The <a href="/openbao/docs/plugins/">plugin system</a> launches a separate process
initiated by OpenBao that communicates over RPC. For each secret engine and auth
method that&#x27;s enabled as an external plugin, OpenBao will spawn a process on the
host system. For the Database Secrets Engines, external database plugins will
spawn a process for every configured connection.</p>
<p>Regardless of plugin type, each of these processes will incur resource overhead
on the system, including but not limited to resources such as CPU, memory,
networking, and file descriptors. There&#x27;s no specific limit on the number
secrets engines, auth methods, or database configured connections that can be
enabled. This ultimately depends on the particular plugin resource utilization,
the extent to which that plugin is being called, and the available resources on
the system. For plugins of the same type, each additional process will incur a
roughly linear increase in resource utilization. This assumes the usage of each
plugin of the same type is similar.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/openbao/openbao/tree/main/website/content/docs/internals/limits.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/openbao/docs/internals/rotation/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Key rotation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/openbao/docs/concepts/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Overview</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#storage-related-limits" class="table-of-contents__link toc-highlight">Storage-Related limits</a><ul><li><a href="#storage-entry-size" class="table-of-contents__link toc-highlight">Storage entry size</a></li><li><a href="#mount-point-limits" class="table-of-contents__link toc-highlight">Mount point limits</a></li><li><a href="#namespace-limits" class="table-of-contents__link toc-highlight">Namespace limits</a></li><li><a href="#entity-and-group-limits" class="table-of-contents__link toc-highlight">Entity and group limits</a></li><li><a href="#token-limits" class="table-of-contents__link toc-highlight">Token limits</a></li><li><a href="#policy-limits" class="table-of-contents__link toc-highlight">Policy limits</a></li><li><a href="#versioned-key-value-store-kv-v2-secret-engine" class="table-of-contents__link toc-highlight">Versioned key-value store (kv-v2 secret engine)</a></li><li><a href="#transit-secret-engine" class="table-of-contents__link toc-highlight">Transit secret engine</a></li></ul></li><li><a href="#other-limits" class="table-of-contents__link toc-highlight">Other limits</a><ul><li><a href="#request-size" class="table-of-contents__link toc-highlight">Request size</a></li><li><a href="#request-duration" class="table-of-contents__link toc-highlight">Request duration</a></li><li><a href="#lease-limits" class="table-of-contents__link toc-highlight">Lease limits</a></li><li><a href="#transform-limits" class="table-of-contents__link toc-highlight">Transform limits</a></li><li><a href="#external-plugin-limits" class="table-of-contents__link toc-highlight">External plugin limits</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/openbao/docs/">Intro</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/openbao/openbao/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://chat.lfx.linuxfoundation.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chat Server<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://wiki.lfedge.org/display/OH/OpenBao+%28Hashicorp+Vault+Fork+effort%29+FAQ" target="_blank" rel="noopener noreferrer" class="footer__link-item">Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/openbao/openbao" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 The OpenBao Authors. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>